"use strict";(self.webpackChunkalgerian_law_manager=self.webpackChunkalgerian_law_manager||[]).push([[659],{14801:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(65471),n=a(44414);const l=(0,s.A)((0,n.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},17526:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(65471),n=a(44414);const l=(0,s.A)((0,n.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code")},29240:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(65471),n=a(44414);const l=(0,s.A)((0,n.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},45810:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(65471),n=a(44414);const l=(0,s.A)((0,n.jsx)("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload")},47659:(e,t,a)=>{a.r(t),a.d(t,{default:()=>lt});var s=a(89379),n=a(9950),l=a(28429),i=a(14857),r=a(57191),o=a(16491),c=a(82053),d=a(10226),h=a(48089),x=a(50704),m=a(60899),u=a(25979),p=a(3788),g=a(16101),A=a(23266),f=a(25277),j=a(33174),v=a(96583),b=a(40033),y=a(28170),w=a(79739),z=a(98785),S=a(17972),C=a(53256),k=a(67818),H=a(387),I=a(25333),M=a(29925),N=a(2235),L=a(14801),T=a(58629),R=a(27898),W=a(79196),F=a(71471),V=a(65471),D=a(44414);const E=(0,V.A)((0,D.jsx)("path",{d:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12z"}),"Label");var q=a(72934),B=a(49885),U=a(39606),_=a(81831),O=a(94558),P=a(97497),X=a(93125),Z=a(39919),Y=a(74745),$=a(55660);const G=(0,V.A)((0,D.jsx)("path",{d:"M2.5 4v3h5v12h3V7h5V4zm19 5h-9v3h3v7h3v-7h3z"}),"TextFields");var K=a(17526),J=a(68179);const Q=(0,V.A)((0,D.jsx)("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42M10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5"}),"FormatBold"),ee=(0,V.A)((0,D.jsx)("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"}),"FormatItalic"),te=(0,V.A)((0,D.jsx)("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6m-7 2v2h14v-2z"}),"FormatUnderlined"),ae=(0,V.A)((0,D.jsx)("path",{d:"M6.85 7.08C6.85 4.37 9.45 3 12.24 3c1.64 0 3 .49 3.9 1.28.77.65 1.46 1.73 1.46 3.24h-3.01c0-.31-.05-.59-.15-.85-.29-.86-1.2-1.28-2.25-1.28-1.86 0-2.34 1.02-2.34 1.7 0 .48.25.88.74 1.21.38.25.77.48 1.41.7H7.39c-.21-.34-.54-.89-.54-1.92M21 12v-2H3v2h9.62c1.15.45 1.96.75 1.96 1.97 0 1-.81 1.67-2.28 1.67-1.54 0-2.93-.54-2.93-2.51H6.4c0 .55.08 1.13.24 1.58.81 2.29 3.29 3.3 5.67 3.3 2.27 0 5.3-.89 5.3-4.05 0-.3-.01-1.16-.48-1.94H21z"}),"StrikethroughS"),se=(0,V.A)((0,D.jsx)("path",{d:"M5 4v3h5.5v12h3V7H19V4z"}),"Title"),ne=(0,V.A)((0,D.jsx)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5m0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5m0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5M7 19h14v-2H7zm0-6h14v-2H7zm0-8v2h14V5z"}),"FormatListBulleted"),le=(0,V.A)((0,D.jsx)("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z"}),"FormatListNumbered"),ie=(0,V.A)((0,D.jsx)("path",{d:"M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"}),"FormatQuote"),re=(0,V.A)((0,D.jsx)("path",{d:"M3 21h18v-2H3zm6-4h12v-2H9zm-6-4h18v-2H3zm6-4h12V7H9zM3 3v2h18V3z"}),"FormatAlignRight"),oe=(0,V.A)((0,D.jsx)("path",{d:"M7 15v2h10v-2zm-4 6h18v-2H3zm0-8h18v-2H3zm4-6v2h10V7zM3 3v2h18V3z"}),"FormatAlignCenter"),ce=(0,V.A)((0,D.jsx)("path",{d:"M15 15H3v2h12zm0-8H3v2h12zM3 13h18v-2H3zm0 8h18v-2H3zM3 3v2h18V3z"}),"FormatAlignLeft"),de=(0,V.A)((0,D.jsx)("path",{d:"M3 21h18v-2H3zm0-4h18v-2H3zm0-4h18v-2H3zm0-4h18V7H3zm0-6v2h18V3z"}),"FormatAlignJustify"),he=(0,V.A)((0,D.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),xe=(0,V.A)((0,D.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),me=(0,V.A)((0,D.jsx)("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRule"),ue=(0,V.A)((0,D.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens"),pe=(0,V.A)((0,D.jsx)("path",{d:"M3.27 5 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5z"}),"FormatClear");var ge=a(45810);const Ae=(0,V.A)((0,D.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");const fe=function(e){let{value:t="",onChange:a,label:s,placeholder:l,error:r,helperText:h,multiline:x=!0,rows:m=10,fullWidth:p=!0,disabled:j=!1,supportHtml:z=!0,allowFileImport:S=!0}=e;const C=(0,i.A)(),{t:H}=(0,k.Bd)(),L=(0,n.useRef)(null),T=(0,n.useRef)(null),R=(0,n.useRef)(null),[W,F]=(0,n.useState)("text"),[V,E]=(0,n.useState)(!1),[q,B]=(0,n.useState)(0),[U,_]=(0,n.useState)(0),[O,fe]=(0,n.useState)(t||""),[je,ve]=(0,n.useState)(""),[be,ye]=(0,n.useState)("");(0,n.useEffect)(()=>{t!==O&&fe(t||"")},[t]),(0,n.useEffect)(()=>{if(!a)return;const e=setTimeout(()=>{O!==t&&a(O)},150);return()=>clearTimeout(e)},[O]),(0,n.useEffect)(()=>{const e=O||"",t=e.trim();let a=0;if(t){let e=!1;for(let s=0;s<t.length;s++){const n=t[s];if(" "===n||"\n"===n||"\t"===n||"\r"===n||"\f"===n||"\v"===n||"\xa0"===n?e&&(e=!1):e||(e=!0,a++),a>2e5)break}}const s=e.length;B(a),_(s)},[O]);const we=()=>L.current?L.current.querySelector("textarea")||L.current.querySelector("input"):null,ze=function(e){var t,a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0627\u0644\u0646\u0635";const n=we();if(!n)return;const l=null!==(t=n.selectionStart)&&void 0!==t?t:0,i=null!==(a=n.selectionEnd)&&void 0!==a?a:0,r=O.substring(l,i)||s,o=O.substring(0,l),c=O.substring(i),d='<span style="'.concat(e,'">').concat(r,"</span>");fe(o+d+c),setTimeout(()=>{const e=o.length+d.length;n.focus(),n.setSelectionRange(e,e)},0)},Se=function(e){var t,a;let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const l=we();if(!l)return;const i=null!==(t=l.selectionStart)&&void 0!==t?t:0,r=null!==(a=l.selectionEnd)&&void 0!==a?a:0,o=O.substring(i,r);let c="";if("ul"===e||"ol"===e){const t=(o?o.split(/\r?\n/):["\u0639\u0646\u0635\u0631"]).map(e=>"<li>".concat(e||"\u0639\u0646\u0635\u0631","</li>")).join("");c="<".concat(e,">").concat(t,"</").concat(e,">")}else c="hr"===e?"<hr />":s?function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const s=a?" "+a.trim():"";return"<".concat(e).concat(s,">").concat(t,"</").concat(e,">")}(e,o||"",n):"<".concat(e,">");const d=O.substring(0,i),h=O.substring(r);fe(d+c+h),setTimeout(()=>{const e=d.length+c.length;l.focus(),l.setSelectionRange(e,e)},0)},Ce=function(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right";const s=we();if(!s)return;const n=null!==(e=s.selectionStart)&&void 0!==e?e:0,l=null!==(t=s.selectionEnd)&&void 0!==t?t:0,i=O.substring(n,l)||"\u0627\u0644\u0646\u0635",r='<div style="text-align:'.concat(a,'">').concat(i,"</div>"),o=O.substring(0,n)+r+O.substring(l);fe(o),setTimeout(()=>{const e=n+r.length;s.focus(),s.setSelectionRange(e,e)},0)},ke=()=>(0,D.jsx)(o.A,{sx:{border:"1px solid ".concat(C.palette.divider),borderRadius:1,p:2,minHeight:24*m,maxHeight:400,overflow:"auto",backgroundColor:C.palette.background.paper,"& *":{maxWidth:"100%"}},dangerouslySetInnerHTML:{__html:O||""}}),He="html"===W||"text"===W;return(0,D.jsxs)(o.A,{children:[(0,D.jsxs)(N.A,{elevation:1,sx:{p:1,mb:1,display:"flex",alignItems:"center",gap:1,flexWrap:"wrap",backgroundColor:(0,P.X4)(C.palette.primary.main,.02)},children:[z&&(0,D.jsxs)(X.A,{value:W,exclusive:!0,onChange:(e,t)=>{null!==t&&F(t)},size:"small",children:[(0,D.jsxs)(Z.A,{value:"text",children:[(0,D.jsx)(G,{fontSize:"small"}),(0,D.jsx)(c.A,{variant:"caption",sx:{ml:.5},children:H("laws.textMode")})]}),(0,D.jsxs)(Z.A,{value:"html",children:[(0,D.jsx)(K.A,{fontSize:"small"}),(0,D.jsx)(c.A,{variant:"caption",sx:{ml:.5},children:H("laws.htmlMode")})]}),(0,D.jsxs)(Z.A,{value:"preview",children:[(0,D.jsx)(J.A,{fontSize:"small"}),(0,D.jsx)(c.A,{variant:"caption",sx:{ml:.5},children:H("laws.preview")})]})]}),(0,D.jsx)(Y.A,{orientation:"vertical",flexItem:!0}),He&&(0,D.jsxs)(o.A,{sx:{display:"flex",gap:.5,flexWrap:"wrap",alignItems:"center"},children:[(0,D.jsx)($.A,{title:"\u0646\u0635 \u0639\u0631\u064a\u0636",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("strong"),children:(0,D.jsx)(Q,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0646\u0635 \u0645\u0627\u0626\u0644",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("em"),children:(0,D.jsx)(ee,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0646\u0635 \u0645\u0633\u0637\u0631",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("u"),children:(0,D.jsx)(te,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0634\u0637\u0628",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("s"),children:(0,D.jsx)(ae,{fontSize:"small"})})}),(0,D.jsx)(Y.A,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,D.jsx)($.A,{title:"\u0639\u0646\u0648\u0627\u0646 H1",children:(0,D.jsxs)(I.A,{size:"small",onClick:()=>Se("h1"),children:[(0,D.jsx)(se,{fontSize:"small"}),(0,D.jsx)(c.A,{variant:"caption",sx:{ml:.5},children:"H1"})]})}),(0,D.jsx)($.A,{title:"\u0639\u0646\u0648\u0627\u0646 H2",children:(0,D.jsxs)(I.A,{size:"small",onClick:()=>Se("h2"),children:[(0,D.jsx)(se,{fontSize:"small"}),(0,D.jsx)(c.A,{variant:"caption",sx:{ml:.5},children:"H2"})]})}),(0,D.jsx)($.A,{title:"\u0639\u0646\u0648\u0627\u0646 H3",children:(0,D.jsxs)(I.A,{size:"small",onClick:()=>Se("h3"),children:[(0,D.jsx)(se,{fontSize:"small"}),(0,D.jsx)(c.A,{variant:"caption",sx:{ml:.5},children:"H3"})]})}),(0,D.jsx)(Y.A,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,D.jsx)($.A,{title:"\u0642\u0627\u0626\u0645\u0629 \u0646\u0642\u0637\u064a\u0629",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("ul"),children:(0,D.jsx)(ne,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0642\u0627\u0626\u0645\u0629 \u0645\u0631\u0642\u0645\u0629",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("ol"),children:(0,D.jsx)(le,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0627\u0642\u062a\u0628\u0627\u0633",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("blockquote"),children:(0,D.jsx)(ie,{fontSize:"small"})})}),(0,D.jsx)(Y.A,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,D.jsx)($.A,{title:"\u0645\u062d\u0627\u0630\u0627\u0629 \u0644\u0644\u064a\u0645\u064a\u0646",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Ce("right"),children:(0,D.jsx)(re,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u062a\u0648\u0633\u064a\u0637",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Ce("center"),children:(0,D.jsx)(oe,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0645\u062d\u0627\u0630\u0627\u0629 \u0644\u0644\u064a\u0633\u0627\u0631",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Ce("left"),children:(0,D.jsx)(ce,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0636\u0628\u0637 \u0627\u0644\u0646\u0635",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Ce("justify"),children:(0,D.jsx)(de,{fontSize:"small"})})}),(0,D.jsx)(Y.A,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,D.jsx)($.A,{title:"\u0631\u0627\u0628\u0637",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>{var e,t;const a=window.prompt("\u0623\u062f\u062e\u0644 \u0627\u0644\u0631\u0627\u0628\u0637 (URL):","https://");if(!a)return;const s=we();if(!s)return;const n=null!==(e=s.selectionStart)&&void 0!==e?e:0,l=null!==(t=s.selectionEnd)&&void 0!==t?t:0,i=O.substring(n,l)||"\u0631\u0627\u0628\u0637",r='<a href="'.concat(a,'" target="_blank" rel="noopener">').concat(i,"</a>"),o=O.substring(0,n)+r+O.substring(l);fe(o),setTimeout(()=>{const e=n+r.length;s.focus(),s.setSelectionRange(e,e)},0)},children:(0,D.jsx)(he,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0635\u0648\u0631\u0629",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>{const e=window.prompt("\u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629 (URL):","https://");if(!e)return;const t=window.prompt("\u0627\u0644\u0646\u0635 \u0627\u0644\u0628\u062f\u064a\u0644 (alt):","");!function(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=we();if(!n)return;const l=null!==(e=n.selectionStart)&&void 0!==e?e:0,i=null!==(t=n.selectionEnd)&&void 0!==t?t:0,r=O.substring(0,l),o=O.substring(l,i),c=O.substring(i);fe(r+a+o+s+c),setTimeout(()=>{const e=l+a.length+o.length+s.length;n.focus(),n.setSelectionRange(e,e)},0)}('<img src="'.concat(e,'" alt="').concat(t||"",'" />'),"")},children:(0,D.jsx)(xe,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:"\u0641\u0642\u0631\u0629 \u062c\u062f\u064a\u062f\u0629",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("p"),children:(0,D.jsx)(c.A,{variant:"caption",fontWeight:"bold",children:"P"})})}),(0,D.jsx)($.A,{title:"\u0641\u0627\u0635\u0644 \u0623\u0641\u0642\u064a",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>Se("hr",!1),children:(0,D.jsx)(me,{fontSize:"small"})})}),(0,D.jsx)(Y.A,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,D.jsx)($.A,{title:"\u0644\u0648\u0646 \u0627\u0644\u0646\u0635",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>{var e;null===(e=R.current)||void 0===e||e.click()},children:(0,D.jsx)(ue,{fontSize:"small"})})}),(0,D.jsx)(u.A,{size:"small",sx:{minWidth:120},children:(0,D.jsxs)(g.A,{displayEmpty:!0,value:je,onChange:e=>{const t=e.target.value;var a;ve(t),t&&((a=t)&&ze("font-family: ".concat(a))),setTimeout(()=>ve(""),0)},renderValue:e=>e?e.split(",")[0].replace(/'/g,""):"\u0646\u0648\u0639 \u0627\u0644\u062e\u0637",children:[(0,D.jsx)(A.A,{value:"",children:(0,D.jsx)("em",{children:"\u0646\u0648\u0639 \u0627\u0644\u062e\u0637"})}),[{label:"\u0627\u0641\u062a\u0631\u0627\u0636\u064a",value:"inherit"},{label:"Amiri",value:"'Amiri', serif"},{label:"Cairo",value:"'Cairo', sans-serif"},{label:"Noto Naskh Arabic",value:"'Noto Naskh Arabic', serif"},{label:"Times New Roman",value:"'Times New Roman', Times, serif"},{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{label:"serif",value:"serif"},{label:"sans-serif",value:"sans-serif"}].map(e=>(0,D.jsx)(A.A,{value:e.value,children:e.label},e.value))]})}),(0,D.jsx)(u.A,{size:"small",sx:{minWidth:100},children:(0,D.jsxs)(g.A,{displayEmpty:!0,value:be,onChange:e=>{const t=e.target.value;var a;ye(t),t&&((a=parseInt(t,10))&&ze("font-size: ".concat(a,"px"))),setTimeout(()=>ye(""),0)},renderValue:e=>e?"".concat(e,"px"):"\u062d\u062c\u0645 \u0627\u0644\u062e\u0637",children:[(0,D.jsx)(A.A,{value:"",children:(0,D.jsx)("em",{children:"\u062d\u062c\u0645 \u0627\u0644\u062e\u0637"})}),[12,14,16,18,20,24,28,32].map(e=>(0,D.jsxs)(A.A,{value:String(e),children:[e,"px"]},e))]})}),(0,D.jsx)(Y.A,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,D.jsx)($.A,{title:"\u0645\u0633\u062d \u0627\u0644\u062a\u0646\u0633\u064a\u0642",children:(0,D.jsx)(I.A,{size:"small",onClick:()=>{var e,t;const a=we();if(!a)return;const s=null!==(e=a.selectionStart)&&void 0!==e?e:0,n=null!==(t=a.selectionEnd)&&void 0!==t?t:0,l=O.substring(s,n);if(!l)return;const i=l.replace(/<[^>]+>/g,""),r=O.substring(0,s)+i+O.substring(n);fe(r),setTimeout(()=>{const e=s+i.length;a.focus(),a.setSelectionRange(e,e)},0)},children:(0,D.jsx)(pe,{fontSize:"small"})})})]}),(0,D.jsx)(o.A,{sx:{flexGrow:1}}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:.5},children:["html"===W&&(0,D.jsx)($.A,{title:H("laws.preview"),children:(0,D.jsx)(I.A,{size:"small",onClick:()=>E(!0),color:"primary",children:(0,D.jsx)(J.A,{fontSize:"small"})})}),S&&(0,D.jsx)($.A,{title:H("laws.importFromFile"),children:(0,D.jsx)(I.A,{size:"small",onClick:()=>{var e;null===(e=T.current)||void 0===e||e.click()},color:"secondary",children:(0,D.jsx)(ge.A,{fontSize:"small"})})}),(0,D.jsx)($.A,{title:H("laws.goToStart"),children:(0,D.jsx)(I.A,{size:"small",onClick:()=>{const e=we();e&&(e.focus(),e.setSelectionRange(0,0),e.scrollTop=0)},color:"info",children:(0,D.jsx)(Ae,{fontSize:"small"})})})]})]}),"preview"===W?ke():(0,D.jsx)(M.A,{ref:L,fullWidth:p,multiline:x,rows:m,label:s,placeholder:l,value:O,onChange:e=>{const t=e.target.value;fe(t)},error:r,helperText:h,disabled:j,sx:{"& .MuiInputBase-root":{fontFamily:"html"===W?"monospace":"inherit",fontSize:"html"===W?"0.9rem":"inherit"}}}),(0,D.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1,px:1},children:[(0,D.jsxs)(o.A,{sx:{display:"flex",gap:2},children:[(0,D.jsx)(f.A,{label:"".concat(q," \u0643\u0644\u0645\u0629"),size:"small",variant:"outlined",color:"primary"}),(0,D.jsx)(f.A,{label:"".concat(U," \u062d\u0631\u0641"),size:"small",variant:"outlined",color:"secondary"}),"html"===W&&(0,D.jsx)(f.A,{label:"HTML",size:"small",color:"info"})]}),"html"===W&&(0,D.jsx)(c.A,{variant:"caption",color:"text.secondary",children:"\u064a\u0645\u0643\u0646\u0643 \u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0639\u0644\u0627\u0645\u0627\u062a HTML \u0644\u062a\u0646\u0633\u064a\u0642 \u0627\u0644\u0646\u0635"})]}),(0,D.jsx)("input",{ref:T,type:"file",accept:".txt,.html,.htm",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(!t)return;const a="."+t.name.split(".").pop().toLowerCase();if(![".txt",".html",".htm"].includes(a))return void(window.notifications&&window.notifications.error(H("laws.invalidFileType")));const s=new FileReader;s.onload=e=>{try{const t=e.target.result;F(".html"===a||".htm"===a?"html":"text"),fe(t||""),window.notifications&&window.notifications.success(H("laws.fileImported"))}catch(r){console.error("\u062e\u0637\u0623 \u0641\u064a \u0642\u0631\u0627\u0621\u0629 \u0627\u0644\u0645\u0644\u0641:",r),window.notifications&&window.notifications.error(H("laws.fileReadError"))}},s.onerror=()=>{window.notifications&&window.notifications.error(H("laws.fileReadError"))},s.readAsText(t,"UTF-8"),e.target.value=""}}),(0,D.jsx)("input",{ref:R,type:"color",style:{display:"none"},onChange:e=>{const t=e.target.value;t&&(ze("color: ".concat(t)),e.target.value="")}}),(0,D.jsxs)(v.A,{open:V,onClose:()=>E(!1),maxWidth:"md",fullWidth:!0,children:[(0,D.jsx)(b.A,{children:(0,D.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(J.A,{}),H("laws.preview")]})}),(0,D.jsx)(y.A,{children:ke()}),(0,D.jsx)(w.A,{children:(0,D.jsx)(d.A,{onClick:()=>E(!1),children:H("common.close")})})]})]})};const je=function(){const{t:e,i18n:t}=(0,k.Bd)(),a=(0,l.Zp)(),{id:v}=(0,l.g)(),b=(0,i.A)(),{categories:y,lawActions:w,categoryActions:V,selectedLaw:P,loading:X}=(0,H.Us)(),Z=Boolean(v),[Y,$]=(0,n.useState)({title:"",content:"",officialNumber:"",issueDate:new Date,category:"",keywords:[],status:"active",notes:""}),[G,K]=(0,n.useState)({}),[J,Q]=(0,n.useState)(!1),[ee,te]=(0,n.useState)({open:!1,message:"",severity:"success"}),[ae,se]=(0,n.useState)(""),[ne,le]=(0,n.useState)(""),[ie,re]=(0,n.useState)(!1);(0,n.useEffect)(()=>{Z&&v&&oe()},[Z,v]);const oe=async()=>{try{const e=await w.getLaw(parseInt(v));e&&$({title:e.title||"",content:e.content||"",officialNumber:e.officialNumber||"",issueDate:e.issueDate?new Date(e.issueDate):new Date,category:e.category||"",keywords:e.keywords||[],status:e.status||"active",notes:e.notes||""})}catch(t){te({open:!0,message:e("messages.networkError"),severity:"error"})}},ce=(e,t)=>{$(a=>(0,s.A)((0,s.A)({},a),{},{[e]:t})),G[e]&&K(t=>(0,s.A)((0,s.A)({},t),{},{[e]:""}))},de=()=>{ae.trim()&&!Y.keywords.includes(ae.trim())&&($(e=>(0,s.A)((0,s.A)({},e),{},{keywords:[...e.keywords,ae.trim()]})),se(""))},he=()=>{a("/laws")},xe=()=>{te((0,s.A)((0,s.A)({},ee),{},{open:!1}))};return(0,D.jsx)(_.$,{dateAdapter:O.h,children:(0,D.jsx)(r.A,{in:!0,timeout:500,children:(0,D.jsxs)(o.A,{children:[(0,D.jsx)(o.A,{sx:{mb:4},children:(0,D.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,D.jsx)(I.A,{onClick:he,sx:{mr:2},children:(0,D.jsx)(L.A,{})}),(0,D.jsxs)(c.A,{variant:"h4",sx:{fontWeight:700,color:b.palette.primary.main,display:"flex",alignItems:"center",gap:2},children:[(0,D.jsx)(S.A,{fontSize:"large"}),e(Z?"laws.edit":"laws.addNew")]})]})}),(0,D.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return Y.title.trim()||(t.title=e("validation.required")),Y.content.trim()||(t.content=e("validation.required")),Y.officialNumber.trim()||(t.officialNumber=e("validation.required")),Y.category||(t.category=e("validation.required")),K(t),0===Object.keys(t).length})()){Q(!0);try{const t=(0,s.A)((0,s.A)({},Y),{},{issueDate:Y.issueDate.toISOString()});Z?(await w.updateLaw(parseInt(v),t),te({open:!0,message:e("messages.lawUpdated"),severity:"success"})):(await w.addLaw(t),te({open:!0,message:e("messages.lawAdded"),severity:"success"})),setTimeout(()=>{a("/laws")},1500)}catch(n){te({open:!0,message:e("messages.networkError"),severity:"error"})}finally{Q(!1)}}},children:(0,D.jsxs)(m.Ay,{container:!0,spacing:3,children:[(0,D.jsx)(m.Ay,{item:!0,xs:12,lg:8,children:(0,D.jsx)(h.A,{sx:{mb:3},children:(0,D.jsxs)(x.A,{children:[(0,D.jsxs)(c.A,{variant:"h6",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(T.A,{}),e("laws.basicInfo")]}),(0,D.jsxs)(m.Ay,{container:!0,spacing:3,children:[(0,D.jsx)(m.Ay,{item:!0,xs:12,children:(0,D.jsx)(M.A,{fullWidth:!0,label:e("laws.fields.title"),value:Y.title,onChange:e=>ce("title",e.target.value),error:Boolean(G.title),helperText:G.title,required:!0,multiline:!0,rows:2,sx:{mb:2}})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(M.A,{fullWidth:!0,label:e("laws.fields.officialNumber"),value:Y.officialNumber,onChange:e=>ce("officialNumber",e.target.value),error:Boolean(G.officialNumber),helperText:G.officialNumber,required:!0,InputProps:{startAdornment:(0,D.jsx)(R.A,{sx:{mr:"ar"===t.language?0:1,ml:"ar"===t.language?1:0,color:"action.active"}})}})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(U.l,{label:e("laws.fields.issueDate"),value:Y.issueDate,onChange:e=>ce("issueDate",e),renderInput:e=>(0,D.jsx)(M.A,(0,s.A)((0,s.A)({},e),{},{fullWidth:!0,required:!0,InputProps:(0,s.A)((0,s.A)({},e.InputProps),{},{startAdornment:(0,D.jsx)(W.A,{sx:{mr:"ar"===t.language?0:1,ml:"ar"===t.language?1:0,color:"action.active"}})})}))})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,children:(0,D.jsx)(fe,{label:e("laws.fields.content"),value:Y.content,onChange:e=>ce("content",e),error:Boolean(G.content),helperText:G.content,placeholder:e("laws.contentPlaceholder"),rows:12,supportHtml:!0,allowFileImport:!0})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,children:(0,D.jsx)(fe,{label:e("laws.fields.notes"),value:Y.notes,onChange:e=>ce("notes",e),placeholder:e("laws.notesPlaceholder"),rows:4,supportHtml:!1,allowFileImport:!0})})]})]})})}),(0,D.jsxs)(m.Ay,{item:!0,xs:12,lg:4,children:[(0,D.jsx)(h.A,{sx:{mb:3},children:(0,D.jsxs)(x.A,{children:[(0,D.jsxs)(c.A,{variant:"h6",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(F.A,{}),e("laws.additionalInfo")]}),(0,D.jsxs)(o.A,{sx:{mb:3},children:[(0,D.jsxs)(u.A,{fullWidth:!0,error:Boolean(G.category),children:[(0,D.jsx)(p.A,{children:e("laws.fields.category")}),(0,D.jsx)(g.A,{value:Y.category,onChange:e=>ce("category",e.target.value),label:e("laws.fields.category"),children:null===y||void 0===y?void 0:y.map(e=>(0,D.jsx)(A.A,{value:e.name,children:e.name},e.id))})]}),G.category&&(0,D.jsx)(c.A,{variant:"caption",color:"error",sx:{mt:.5,display:"block"},children:G.category}),ie?(0,D.jsxs)(o.A,{sx:{mt:2,p:2,backgroundColor:"dark"===b.palette.mode?"rgba(255, 255, 255, 0.03)":b.palette.grey[50],borderRadius:2},children:[(0,D.jsx)(M.A,{fullWidth:!0,size:"small",label:e("categories.fields.name"),value:ne,onChange:e=>le(e.target.value),sx:{mb:1}}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:1},children:[(0,D.jsx)(d.A,{size:"small",variant:"contained",onClick:async()=>{if(ne.trim())try{const t={name:ne.trim(),description:"".concat(e("navigation.categories")," ").concat(ne.trim()),color:b.palette.primary.main,icon:"category"},a=await V.addCategory(t);$(e=>(0,s.A)((0,s.A)({},e),{},{category:a.name})),le(""),re(!1),te({open:!0,message:e("messages.categoryAdded"),severity:"success"})}catch(t){te({open:!0,message:e("messages.networkError"),severity:"error"})}},disabled:!ne.trim(),children:e("common.add")}),(0,D.jsx)(d.A,{size:"small",onClick:()=>{re(!1),le("")},children:e("common.cancel")})]})]}):(0,D.jsx)(d.A,{startIcon:(0,D.jsx)(C.A,{}),onClick:()=>re(!0),sx:{mt:1},size:"small",children:e("categories.addNew")})]}),(0,D.jsxs)(u.A,{fullWidth:!0,sx:{mb:3},children:[(0,D.jsx)(p.A,{children:e("laws.fields.status")}),(0,D.jsxs)(g.A,{value:Y.status,onChange:e=>ce("status",e.target.value),label:e("laws.fields.status"),children:[(0,D.jsx)(A.A,{value:"active",children:e("laws.status.active")}),(0,D.jsx)(A.A,{value:"inactive",children:e("laws.status.inactive")}),(0,D.jsx)(A.A,{value:"draft",children:e("laws.status.draft")}),(0,D.jsx)(A.A,{value:"archived",children:e("laws.status.archived")})]})]}),(0,D.jsxs)(o.A,{children:[(0,D.jsxs)(c.A,{variant:"subtitle2",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(E,{}),e("laws.fields.keywords")]}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,D.jsx)(M.A,{size:"small",placeholder:e("laws.addKeyword"),value:ae,onChange:e=>se(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),de())},sx:{flex:1}}),(0,D.jsx)(d.A,{variant:"outlined",onClick:de,disabled:!ae.trim(),children:e("common.add")})]}),(0,D.jsx)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Y.keywords.map((e,t)=>(0,D.jsx)(f.A,{label:e,onDelete:()=>{return t=e,void $(e=>(0,s.A)((0,s.A)({},e),{},{keywords:e.keywords.filter(e=>e!==t)}));var t},color:"primary",variant:"outlined",size:"small"},t))})]})]})}),(0,D.jsx)(N.A,{sx:{p:3},children:(0,D.jsxs)(o.A,{sx:{display:"flex",gap:2,flexDirection:"column"},children:[(0,D.jsx)(d.A,{type:"submit",variant:"contained",size:"large",startIcon:(0,D.jsx)(q.A,{}),disabled:J,sx:{py:1.5,fontWeight:600,background:"linear-gradient(45deg, ".concat(b.palette.primary.main," 30%, ").concat(b.palette.primary.light," 90%)")},children:e(J?"common.saving":"common.save")}),(0,D.jsx)(d.A,{variant:"outlined",size:"large",startIcon:(0,D.jsx)(B.A,{}),onClick:he,disabled:J,sx:{py:1.5},children:e("common.cancel")})]})})]})]})}),(0,D.jsx)(z.A,{open:ee.open,autoHideDuration:6e3,onClose:xe,anchorOrigin:{vertical:"bottom",horizontal:"ar"===t.language?"left":"right"},children:(0,D.jsx)(j.A,{onClose:xe,severity:ee.severity,sx:{width:"100%"},children:ee.message})})]})})})};var ve=a(98587),be=a(58168),ye=a(72004),we=a(88465),ze=a(24184),Se=a(61676),Ce=a(18463),ke=a(1763),He=a(423);function Ie(e){return(0,He.Ay)("MuiFab",e)}const Me=(0,ke.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var Ne=a(59254),Le=a(19608);const Te=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Re=(0,Ne.Ay)(ze.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,Le.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["size".concat((0,Se.A)(a.size))],"inherit"===a.color&&t.colorInherit,t[(0,Se.A)(a.size)],t[a.color]]}})(e=>{let{theme:t,ownerState:a}=e;var s,n;return(0,be.A)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(s=(n=t.palette).getContrastText)?void 0:s.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},["&.".concat(Me.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]}},"small"===a.size&&{width:40,height:40},"medium"===a.size&&{width:48,height:48},"extended"===a.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===a.variant&&"small"===a.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===a.variant&&"medium"===a.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===a.color&&{color:"inherit"})},e=>{let{theme:t,ownerState:a}=e;return(0,be.A)({},"inherit"!==a.color&&"default"!==a.color&&null!=(t.vars||t).palette[a.color]&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}}})},e=>{let{theme:t}=e;return{["&.".concat(Me.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),We=n.forwardRef(function(e,t){const a=(0,Ce.b)({props:e,name:"MuiFab"}),{children:s,className:n,color:l="default",component:i="button",disabled:r=!1,disableFocusRipple:o=!1,focusVisibleClassName:c,size:d="large",variant:h="circular"}=a,x=(0,ve.A)(a,Te),m=(0,be.A)({},a,{color:l,component:i,disabled:r,disableFocusRipple:o,size:d,variant:h}),u=(e=>{const{color:t,variant:a,classes:s,size:n}=e,l={root:["root",a,"size".concat((0,Se.A)(n)),"inherit"===t?"colorInherit":t]},i=(0,we.A)(l,Ie,s);return(0,be.A)({},s,i)})(m);return(0,D.jsx)(Re,(0,be.A)({className:(0,ye.A)(u.root,n),component:i,disabled:r,focusRipple:!o,focusVisibleClassName:(0,ye.A)(u.focusVisible,c),ownerState:m,ref:t},x,{classes:u,children:s}))});var Fe=a(17239),Ve=a(82917),De=a(40379),Ee=a(76281),qe=a(73684),Be=a(23935);const Ue=(0,V.A)([(0,D.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,D.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn"),_e=(0,V.A)((0,D.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut");var Oe=a(29240),Pe=a(49715);const Xe=(0,V.A)((0,D.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),Ze=(0,V.A)((0,D.jsx)("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),Ye=(0,V.A)((0,D.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");var $e=a(20760),Ge=a(43974),Ke=a(13868),Je=a(28973),Qe=a(61721);const et=function(e){let{content:t="",showModeToggle:a=!0,defaultMode:l="preview",minHeight:r=200,maxHeight:d=600}=e;const h=(0,i.A)(),{t:x,i18n:m}=(0,k.Bd)(),[f,j]=(0,n.useState)(l),[v,b]=(0,n.useState)({fontFamily:"'Cairo', sans-serif",fontSize:"1.2rem",color:"#000000"}),[y,w]=(0,n.useState)({fontFamily:"monospace",fontSize:"1rem",color:"#000000"}),z="rtl"===m.dir(m.language||""),S=(0,n.useMemo)(()=>/<[^>]*>/.test(t),[t]),C=(0,n.useMemo)(()=>t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),[t]);return(0,D.jsxs)(o.A,{children:[a&&(0,D.jsxs)(o.A,{sx:{mb:1},className:"no-print",children:[(0,D.jsxs)(X.A,{value:f,exclusive:!0,onChange:(e,t)=>{null!==t&&j(t)},size:"small",children:[(0,D.jsxs)(Z.A,{value:"preview",children:[(0,D.jsx)(J.A,{fontSize:"small",sx:{mr:.5}}),x("laws.preview")]}),(0,D.jsxs)(Z.A,{value:"html",children:[(0,D.jsx)(K.A,{fontSize:"small",sx:{mr:.5}}),x("laws.htmlMode")]})]}),(0,D.jsxs)(o.A,{sx:{mt:2,p:2,borderRadius:1,border:"1px dashed ".concat(h.palette.divider),backgroundColor:(0,P.X4)(h.palette.background.paper,.8),display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},"data-format-controls":!0,children:[(0,D.jsx)(c.A,{variant:"subtitle2",sx:{minWidth:120},children:x("laws.textFormatting")||"\u062a\u0646\u0633\u064a\u0642 \u0627\u0644\u0645\u062d\u062a\u0648\u0649"}),(0,D.jsx)(Y.A,{flexItem:!0,orientation:"vertical"}),(0,D.jsxs)(u.A,{size:"small",sx:{minWidth:160},children:[(0,D.jsx)(p.A,{children:x("laws.fontFamily")||"\u0646\u0648\u0639 \u0627\u0644\u062e\u0637"}),(0,D.jsx)(g.A,{label:x("laws.fontFamily")||"\u0646\u0648\u0639 \u0627\u0644\u062e\u0637",value:"html"===f?y.fontFamily:v.fontFamily,onChange:e=>{const t=e.target.value;"html"===f?w(e=>(0,s.A)((0,s.A)({},e),{},{fontFamily:t})):b(e=>(0,s.A)((0,s.A)({},e),{},{fontFamily:t}))},children:[{label:"Cairo",value:"'Cairo', sans-serif"},{label:"Amiri",value:"'Amiri', serif"},{label:"Noto Naskh Arabic",value:"'Noto Naskh Arabic', serif"},{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Times New Roman",value:"'Times New Roman', Times, serif"},{label:"Tahoma",value:"Tahoma, Geneva, sans-serif"},{label:"serif",value:"serif"},{label:"sans-serif",value:"sans-serif"},{label:"monospace",value:"monospace"}].map(e=>(0,D.jsx)(A.A,{value:e.value,children:e.label},e.value))})]}),(0,D.jsxs)(u.A,{size:"small",sx:{minWidth:120},children:[(0,D.jsx)(p.A,{children:x("laws.fontSize")||"\u062d\u062c\u0645 \u0627\u0644\u062e\u0637"}),(0,D.jsx)(g.A,{label:x("laws.fontSize")||"\u062d\u062c\u0645 \u0627\u0644\u062e\u0637",value:"html"===f?y.fontSize:v.fontSize,onChange:e=>{const t=e.target.value;"html"===f?w(e=>(0,s.A)((0,s.A)({},e),{},{fontSize:t})):b(e=>(0,s.A)((0,s.A)({},e),{},{fontSize:t}))},children:["0.9rem","1rem","1.1rem","1.2rem","1.3rem","1.4rem","1.6rem"].map(e=>(0,D.jsx)(A.A,{value:e,children:e},e))})]}),(0,D.jsx)(M.A,{size:"small",type:"color",label:x("laws.fontColor")||"\u0644\u0648\u0646 \u0627\u0644\u062e\u0637",value:"html"===f?y.color:v.color,onChange:e=>{const t=e.target.value;"html"===f?w(e=>(0,s.A)((0,s.A)({},e),{},{color:t})):b(e=>(0,s.A)((0,s.A)({},e),{},{color:t}))},sx:{width:120},InputLabelProps:{shrink:!0}})]})]}),"html"===f?(0,D.jsx)(N.A,{variant:"outlined",sx:{minHeight:r,maxHeight:d,overflow:"auto",p:2,backgroundColor:(0,P.X4)(h.palette.grey[500],.05),fontFamily:y.fontFamily,fontSize:y.fontSize,color:y.color,whiteSpace:"pre-wrap",wordBreak:"break-word",direction:z?"rtl":"ltr",textAlign:z?"right":"left"},children:(0,D.jsx)(c.A,{component:"pre",sx:{margin:0,fontFamily:"inherit",fontSize:"inherit",color:"inherit",textAlign:"inherit"},children:t})}):S?(0,D.jsx)(o.A,{"data-content-area":!0,className:"law-content-text",sx:{minHeight:r,maxHeight:d,overflow:"auto",p:3,border:"1px solid ".concat(h.palette.divider),borderRadius:1,backgroundColor:h.palette.background.paper,fontFamily:v.fontFamily,fontSize:v.fontSize,color:v.color,lineHeight:2.2,width:"100%",boxSizing:"border-box",direction:z?"rtl":"ltr",textAlign:z?"right":"left","& h1, & h2, & h3, & h4, & h5, & h6":{color:h.palette.primary.main,marginTop:h.spacing(3),marginBottom:h.spacing(2),fontWeight:700,textAlign:"inherit"},"& p":{marginBottom:h.spacing(2),textAlign:"justify",fontSize:"inherit"},"& ul, & ol":{paddingInlineStart:h.spacing(3),paddingInlineEnd:h.spacing(1),marginBottom:h.spacing(2)},"& li":{marginBottom:h.spacing(1),lineHeight:1.8},"& strong, & b":{fontWeight:700,color:h.palette.text.primary},"& em, & i":{fontStyle:"italic",color:h.palette.text.secondary},"& u":{textDecoration:"underline"},"& a":{color:h.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& blockquote":{borderInlineStart:"4px solid ".concat(h.palette.primary.main),padding:h.spacing(1,2),paddingInlineStart:h.spacing(2),marginInlineStart:h.spacing(2),fontStyle:"italic",backgroundColor:(0,P.X4)(h.palette.primary.main,.05),borderRadius:1},"& code":{backgroundColor:(0,P.X4)(h.palette.grey[500],.1),padding:h.spacing(.25,.5),borderRadius:.5,fontFamily:"monospace",fontSize:"0.9em"},"& pre":{backgroundColor:(0,P.X4)(h.palette.grey[500],.1),padding:h.spacing(1),borderRadius:1,overflow:"auto",fontFamily:"monospace"},"& table":{width:"100%",borderCollapse:"collapse",marginBottom:h.spacing(2)},"& th, & td":{border:"1px solid ".concat(h.palette.divider),padding:h.spacing(1),textAlign:z?"right":"left"},"& th":{backgroundColor:(0,P.X4)(h.palette.primary.main,.1),fontWeight:600},"& img":{maxWidth:"100%",height:"auto",borderRadius:1},"& hr":{border:"none",borderTop:"1px solid ".concat(h.palette.divider),margin:h.spacing(2,0)}},dangerouslySetInnerHTML:{__html:C}}):(0,D.jsx)(o.A,{"data-content-area":!0,className:"law-content-text",sx:{minHeight:r,maxHeight:d,overflow:"auto",p:3,border:"1px solid ".concat(h.palette.divider),borderRadius:1,backgroundColor:h.palette.background.paper,fontFamily:v.fontFamily,fontSize:v.fontSize,color:v.color,lineHeight:2.2,width:"100%",boxSizing:"border-box",whiteSpace:"pre-wrap",wordBreak:"break-word",direction:z?"rtl":"ltr",textAlign:z?"right":"left"},children:(0,D.jsx)(c.A,{variant:"body1",sx:{fontSize:"inherit",lineHeight:"inherit",textAlign:"inherit",color:"inherit",fontFamily:"inherit"},children:t})}),a&&(0,D.jsx)(c.A,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},className:"no-print",children:"preview"===f?"\u064a\u062a\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u062d\u062a\u0648\u0649 \u0645\u0639 \u062a\u0646\u0633\u064a\u0642 HTML":"\u064a\u062a\u0645 \u0639\u0631\u0636 \u0643\u0648\u062f HTML \u0627\u0644\u062e\u0627\u0645"})]})};function tt(){return(0,D.jsxs)(o.A,{children:[(0,D.jsxs)(o.A,{sx:{mb:4},children:[(0,D.jsx)(Ve.A,{variant:"text",width:300,height:60}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:1,mt:2},children:[(0,D.jsx)(Ve.A,{variant:"rectangular",width:80,height:32,sx:{borderRadius:4}}),(0,D.jsx)(Ve.A,{variant:"rectangular",width:100,height:32,sx:{borderRadius:4}})]})]}),(0,D.jsxs)(m.Ay,{container:!0,spacing:3,children:[(0,D.jsx)(m.Ay,{item:!0,xs:12,lg:8,children:(0,D.jsx)(h.A,{children:(0,D.jsxs)(x.A,{sx:{p:4},children:[(0,D.jsx)(Ve.A,{variant:"text",width:"100%",height:80}),(0,D.jsx)(Ve.A,{variant:"rectangular",width:"100%",height:400,sx:{mt:3,borderRadius:2}})]})})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,lg:4,children:(0,D.jsx)(h.A,{children:(0,D.jsxs)(x.A,{children:[(0,D.jsx)(Ve.A,{variant:"text",width:150,height:32}),(0,D.jsx)(o.A,{sx:{mt:2},children:[1,2,3].map(e=>(0,D.jsxs)(o.A,{sx:{mb:2},children:[(0,D.jsx)(Ve.A,{variant:"text",width:100,height:20}),(0,D.jsx)(Ve.A,{variant:"text",width:150,height:24})]},e))})]})})})]})]})}const at=function(){const{t:e,i18n:t}=(0,k.Bd)(),a=(0,l.Zp)(),{id:u}=(0,l.g)(),p=(0,i.A)(),{lawActions:g,categories:j}=(0,H.Us)(),[z,C]=(0,n.useState)(null),[V,q]=(0,n.useState)(!0),[B,U]=(0,n.useState)(null),[_,O]=(0,n.useState)(!1),[P,X]=(0,n.useState)(0),[Z,$]=(0,n.useState)(""),[G,K]=(0,n.useState)([]),[Q,ee]=(0,n.useState)(-1),[te,ae]=(0,n.useState)(!1),[se,ne]=(0,n.useState)(!1);(0,n.useEffect)(()=>{le()},[u]),(0,n.useEffect)(()=>{$(""),K([]),ee(-1),oe()},[z]),(0,n.useEffect)(()=>{const e=()=>{const e=document.querySelector(".law-content-text[data-content-area]");if(e){const t=e.scrollTop,a=e.scrollHeight,s=e.clientHeight;ne(a>s&&t>200)}},t=()=>{const t=document.querySelector(".law-content-text[data-content-area]");if(t)return t.addEventListener("scroll",e),e(),()=>{t.removeEventListener("scroll",e)}},a=t();if(!a){const e=setTimeout(()=>{t()},100);return()=>clearTimeout(e)}return a},[z]);const le=async()=>{try{q(!0);const e=await g.getLaw(parseInt(u));e?(C(e),X(e.viewCount||0),await g.updateLaw(parseInt(u),(0,s.A)((0,s.A)({},e),{},{viewCount:(e.viewCount||0)+1}))):a("/laws")}catch(e){console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0642\u0627\u0646\u0648\u0646:",e),a("/laws")}finally{q(!1)}},ie=()=>{switch(t.language){case"ar":return Ke.A;case"fr":return Je.A;default:return Qe.A}},re=e=>{const t=document.querySelector(".law-content-text[data-content-area]");if(!t||!e.trim())return;oe();const a=new RegExp("(".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi"),s=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),n=[];let l;const i=e.toLowerCase();for(;(l=s.nextNode())&&(l.parentNode&&l.parentNode.classList&&l.parentNode.classList.contains("search-highlight")||!l.textContent||!l.textContent.toLowerCase().includes(i)||(n.push(l),!(n.length>=500))););n.forEach(e=>{const t=e.parentNode;if(!t)return;const s=e.textContent||"";if(!s)return;if(!a.test(s))return;const n=document.createElement("span");n.innerHTML=s.replace(a,'<mark class="search-highlight" style="background-color: '.concat("dark"===p.palette.mode?"#ffd600":"#ffeb3b",'; color: #000; padding: 2px 4px; border-radius: 3px; font-weight: bold; box-shadow: 0 1px 3px rgba(0,0,0,0.2);">$1</mark>')),t.replaceChild(n,e)})},oe=()=>{document.querySelectorAll(".search-highlight").forEach(e=>{const t=e.parentNode;t.replaceChild(document.createTextNode(e.textContent),e),t.normalize()})},ce=e=>{if(0===G.length)return;let t;t="next"===e?Q<G.length-1?Q+1:0:Q>0?Q-1:G.length-1,ee(t);const a=document.querySelectorAll(".search-highlight");if(a[t]){const e=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;a[t].scrollIntoView({behavior:e?"auto":"smooth",block:"center"}),a.forEach((e,a)=>{a===t?(e.style.backgroundColor=p.palette.secondary.main,e.style.color=p.palette.secondary.contrastText,e.style.boxShadow="0 0 10px ".concat(p.palette.secondary.main)):(e.style.backgroundColor="dark"===p.palette.mode?"#ffd600":"#ffeb3b",e.style.color="#000",e.style.boxShadow="none")})}},de=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd MMMM yyyy";try{if(!t)return e("common.notSpecified")||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f";const s=new Date(t);return isNaN(s.getTime())?e("common.invalidDate")||"\u062a\u0627\u0631\u064a\u062e \u063a\u064a\u0631 \u0635\u0627\u0644\u062d":(0,Ge.A)(s,a,{locale:ie()})}catch(s){return console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u0646\u0633\u064a\u0642 \u0627\u0644\u062a\u0627\u0631\u064a\u062e:",s),e("common.invalidDate")||"\u062a\u0627\u0631\u064a\u062e \u063a\u064a\u0631 \u0635\u0627\u0644\u062d"}},he=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f";return t&&t.trim()?t:e("common.notSpecified")||a},xe=()=>{a("/laws")},me=()=>{U(null)},ue=()=>{const e=document.title;document.title="".concat(he(z.title,"\u0642\u0627\u0646\u0648\u0646")," - ").concat(he(z.officialNumber,"")),document.body.classList.add("printing"),window.print(),setTimeout(()=>{document.body.classList.remove("printing"),document.title=e},1e3),me()},pe=()=>{if(z){try{const t="\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n                    ".concat(he(z.title,"\u0639\u0646\u0648\u0627\u0646 \u063a\u064a\u0631 \u0645\u062d\u062f\u062f"),"\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0642\u0627\u0646\u0648\u0646:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2022 \u0631\u0642\u0645 \u0627\u0644\u062c\u0631\u064a\u062f\u0629 \u0627\u0644\u0631\u0633\u0645\u064a\u0629: ").concat(he(z.officialNumber,"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"),"\n\u2022 \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0635\u062f\u0627\u0631: ").concat(de(z.issueDate,"dd/MM/yyyy"),"\n\u2022 \u0627\u0644\u0641\u0626\u0629: ").concat(he(z.category,"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f"),"\n\u2022 \u0627\u0644\u062d\u0627\u0644\u0629: ").concat(e("laws.status.".concat(z.status))||z.status||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f","\n").concat(z.keywords&&z.keywords.length>0?"\u2022 \u0627\u0644\u0643\u0644\u0645\u0627\u062a \u0627\u0644\u0645\u0641\u062a\u0627\u062d\u064a\u0629: ".concat(z.keywords.join(", ")):"","\n\n\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0642\u0627\u0646\u0648\u0646:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n").concat(he(z.content,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u062d\u062a\u0648\u0649"),"\n\n").concat(z.notes&&z.notes.trim()?"\n\u0645\u0644\u0627\u062d\u0638\u0627\u062a:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n".concat(z.notes,"\n"):"","\n\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0647\u0630\u0627 \u0627\u0644\u0645\u0644\u0641 \u0645\u0646 \u062a\u0637\u0628\u064a\u0642 \u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0642\u0648\u0627\u0646\u064a\u0646 \u0627\u0644\u062c\u0632\u0627\u0626\u0631\u064a\u0629\n\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u062d\u0645\u064a\u0644: ").concat((new Date).toLocaleDateString("ar-DZ")," - ").concat((new Date).toLocaleTimeString("ar-DZ"),"\n\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n      "),a=new Blob([t],{type:"text/plain;charset=utf-8"}),s=URL.createObjectURL(a),n=document.createElement("a");n.href=s;let l=he(z.title,"\u0642\u0627\u0646\u0648\u0646").substring(0,50);l=l.replace(/[<>:"/\\|?*]/g,"_"),z.officialNumber&&z.officialNumber.trim()&&(l="".concat(l,"_").concat(z.officialNumber.replace(/[<>:"/\\|?*]/g,"_"))),n.download="".concat(l,".txt"),document.body.appendChild(n),n.click(),setTimeout(()=>{document.body.removeChild(n),URL.revokeObjectURL(s)},100),console.log("\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641 \u0628\u0646\u062c\u0627\u062d:",l)}catch(t){console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u0644\u0641. \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649.")}me()}else console.error("\u0644\u0627 \u064a\u0648\u062c\u062f \u0642\u0627\u0646\u0648\u0646 \u0644\u0644\u062a\u062d\u0645\u064a\u0644")};if(V)return(0,D.jsx)(tt,{});if(!z)return(0,D.jsxs)(o.A,{sx:{textAlign:"center",py:8},children:[(0,D.jsx)(c.A,{variant:"h5",color:"text.secondary",children:e("laws.notFound")||"\u0627\u0644\u0642\u0627\u0646\u0648\u0646 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f"}),(0,D.jsx)(d.A,{onClick:xe,sx:{mt:2},children:e("common.back")})]});if(!z.id)return(0,D.jsxs)(o.A,{sx:{textAlign:"center",py:8},children:[(0,D.jsx)(c.A,{variant:"h5",color:"error",children:e("messages.error")}),(0,D.jsx)(d.A,{onClick:xe,sx:{mt:2},children:e("common.back")})]});const ge=(fe=z.category,null===j||void 0===j?void 0:j.find(e=>e.name===fe));var fe;return(0,D.jsx)(r.A,{in:!0,timeout:500,children:(0,D.jsxs)(o.A,{sx:{width:"100%",maxWidth:"none"},children:[(0,D.jsxs)(o.A,{sx:{mb:4},className:"no-print",children:[(0,D.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,D.jsxs)(o.A,{sx:{display:"flex",alignItems:"center"},children:[(0,D.jsx)(I.A,{onClick:xe,sx:{mr:2},className:"back-button",children:(0,D.jsx)(L.A,{})}),(0,D.jsxs)(c.A,{variant:"h4",sx:{fontWeight:700,color:p.palette.primary.main,display:"flex",alignItems:"center",gap:2},children:[(0,D.jsx)(S.A,{fontSize:"large"}),e("laws.details")]})]}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:1},className:"action-buttons",children:[(0,D.jsx)(d.A,{variant:"contained",startIcon:(0,D.jsx)(De.A,{}),onClick:()=>{a("/laws/edit/".concat(u))},sx:{borderRadius:3},className:"edit-button",children:e("common.edit")}),(0,D.jsx)(I.A,{onClick:e=>{U(e.currentTarget)},className:"menu-button",children:(0,D.jsx)(Ee.A,{})})]})]}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:2,flexWrap:"wrap",alignItems:"center",mb:2},className:"no-print",children:[(0,D.jsx)(f.A,{label:e("laws.status.".concat(z.status))||z.status||"\u063a\u064a\u0631 \u0645\u062d\u062f\u062f",color:(e=>{switch(e){case"active":return"success";case"inactive":return"error";case"draft":return"warning";case"archived":return"default";default:return"primary"}})(z.status),sx:{fontWeight:600}}),ge&&(0,D.jsx)(f.A,{icon:(0,D.jsx)(F.A,{}),label:z.category,variant:"outlined",sx:{borderColor:ge.color,color:ge.color,fontWeight:500}}),(0,D.jsx)(f.A,{icon:(0,D.jsx)(J.A,{}),label:"".concat(P," ").concat(e("common.views")),variant:"outlined",size:"small"})]}),(0,D.jsx)(h.A,{sx:{mb:3,borderRadius:2},children:(0,D.jsx)(x.A,{sx:{py:2},className:"law-metadata",children:(0,D.jsxs)(m.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,D.jsx)(m.Ay,{item:!0,xs:12,sm:4,children:(0,D.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(R.A,{color:"primary",className:"no-print"}),(0,D.jsxs)(o.A,{children:[(0,D.jsx)(c.A,{variant:"caption",color:"text.secondary",children:e("laws.fields.officialNumber")}),(0,D.jsx)(c.A,{variant:"body2",sx:{fontWeight:600},children:he(z.officialNumber)})]})]})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,sm:4,children:(0,D.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(W.A,{color:"primary",className:"no-print"}),(0,D.jsxs)(o.A,{children:[(0,D.jsx)(c.A,{variant:"caption",color:"text.secondary",children:e("laws.fields.issueDate")}),(0,D.jsx)(c.A,{variant:"body2",sx:{fontWeight:600},children:de(z.issueDate,"dd MMMM yyyy")})]})]})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,sm:4,children:(0,D.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,D.jsx)(E,{color:"primary",className:"no-print"}),(0,D.jsxs)(o.A,{children:[(0,D.jsx)(c.A,{variant:"caption",color:"text.secondary",children:e("laws.fields.keywords")}),(0,D.jsxs)(o.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:[z.keywords&&z.keywords.length>0?z.keywords.slice(0,3).map((e,t)=>(0,D.jsx)(f.A,{label:e,color:"primary",variant:"outlined",size:"small",className:"print-chip",sx:{fontSize:"0.7rem",height:"20px"}},t)):(0,D.jsx)(c.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8rem"},children:e("common.notSpecified")}),z.keywords&&z.keywords.length>3&&(0,D.jsx)(f.A,{label:"+".concat(z.keywords.length-3),size:"small",className:"print-chip",sx:{fontSize:"0.7rem",height:"20px"}})]})]})]})})]})})})]}),(0,D.jsx)(m.Ay,{container:!0,spacing:2,sx:{width:"100%"},children:(0,D.jsx)(m.Ay,{item:!0,xs:12,sx:{width:"100%"},children:(0,D.jsx)(h.A,{sx:{mb:3,borderRadius:2,boxShadow:p.shadows[3],width:"100%"},children:(0,D.jsxs)(x.A,{sx:{p:{xs:2,md:3,lg:4},"&:last-child":{pb:{xs:2,md:3,lg:4}},width:"100%"},children:[(0,D.jsx)(c.A,{variant:"h4",className:"law-title",sx:{fontWeight:600,mb:3,lineHeight:1.4,color:p.palette.text.primary,fontSize:{xs:"1.4rem",md:"1.6rem",lg:"1.8rem"},textAlign:"center",maxWidth:"100%",wordBreak:"break-word"},children:he(z.title,"\u0639\u0646\u0648\u0627\u0646 \u063a\u064a\u0631 \u0645\u062d\u062f\u062f")}),(0,D.jsx)(Y.A,{sx:{mb:3}}),(0,D.jsxs)(o.A,{sx:{mb:4},children:[(0,D.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,flexWrap:"wrap",gap:2},children:[(0,D.jsxs)(c.A,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,color:p.palette.primary.main},children:[(0,D.jsx)(T.A,{}),e("laws.fields.content")]}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap",mb:2},className:"print-controls no-print",children:[(0,D.jsx)(d.A,{variant:"contained",startIcon:(0,D.jsx)(qe.A,{}),onClick:ue,sx:{borderRadius:2,backgroundColor:p.palette.success.main,"&:hover":{backgroundColor:p.palette.success.dark}},size:"small",children:e("laws.actions.print")}),(0,D.jsx)(d.A,{variant:"contained",startIcon:(0,D.jsx)(Be.A,{}),onClick:pe,sx:{borderRadius:2,backgroundColor:p.palette.info.main,"&:hover":{backgroundColor:p.palette.info.dark}},size:"small",children:e("laws.actions.export")})]}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},className:"text-controls no-print",children:[(0,D.jsx)(f.A,{icon:(0,D.jsx)(Ue,{}),label:"\u062a\u0643\u0628\u064a\u0631 \u0627\u0644\u0646\u0635",size:"small",variant:"outlined",clickable:!0,onClick:()=>{const e=document.querySelector(".law-content-text[data-content-area]");if(e){const t=parseFloat(getComputedStyle(e).fontSize)||16,a=Math.min(t+2,28);e.style.fontSize="".concat(a,"px");e.querySelectorAll("p, div, span, li, h1, h2, h3, h4, h5, h6").forEach(e=>{e.style.fontSize="".concat(a,"px")})}},sx:{"&:hover":{backgroundColor:p.palette.primary.light,color:p.palette.primary.contrastText}}}),(0,D.jsx)(f.A,{icon:(0,D.jsx)(_e,{}),label:"\u062a\u0635\u063a\u064a\u0631 \u0627\u0644\u0646\u0635",size:"small",variant:"outlined",clickable:!0,onClick:()=>{const e=document.querySelector(".law-content-text[data-content-area]");if(e){const t=parseFloat(getComputedStyle(e).fontSize)||16,a=Math.max(t-2,12);e.style.fontSize="".concat(a,"px");e.querySelectorAll("p, div, span, li, h1, h2, h3, h4, h5, h6").forEach(e=>{e.style.fontSize="".concat(a,"px")})}},sx:{"&:hover":{backgroundColor:p.palette.secondary.light,color:p.palette.secondary.contrastText}}}),(0,D.jsx)(f.A,{icon:(0,D.jsx)(Oe.A,{}),label:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646",size:"small",variant:"outlined",clickable:!0,onClick:()=>{const e=document.querySelector(".law-content-text[data-content-area]");if(e){e.style.fontSize="1.1rem";e.querySelectorAll("p, div, span, li, h1, h2, h3, h4, h5, h6").forEach(e=>{e.style.fontSize=""})}},sx:{"&:hover":{backgroundColor:p.palette.info.light,color:p.palette.info.contrastText}}})]})]}),(0,D.jsx)(o.A,{sx:{mb:3},className:"search-container no-print",children:(0,D.jsxs)(N.A,{elevation:2,sx:{p:2,backgroundColor:p.palette.background.default,border:"1px solid ".concat(p.palette.divider),borderRadius:2},children:[(0,D.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,D.jsx)(Pe.A,{color:"primary"}),(0,D.jsx)(c.A,{variant:"subtitle1",sx:{fontWeight:600},children:"\u0627\u0644\u0628\u062d\u062b \u0641\u064a \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0646\u0635 \u0627\u0644\u0642\u0627\u0646\u0648\u0646\u064a"})]}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[(0,D.jsx)(o.A,{sx:{flex:1,minWidth:300},children:(0,D.jsx)(M.A,{fullWidth:!0,size:"small",placeholder:"\u0627\u0628\u062d\u062b \u0641\u064a \u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0646\u0635 \u0627\u0644\u0642\u0627\u0646\u0648\u0646\u064a...",value:Z,onChange:e=>(e=>{if($(e),ee(-1),!e.trim()||null===z||void 0===z||!z.content)return K([]),void oe();ae(!0);const t=z.content.toLowerCase(),a=e.toLowerCase(),s=[];let n=0;for(;-1!==(n=t.indexOf(a,n));)s.push(n),n+=a.length;K(s),setTimeout(()=>{re(e),ae(!1)},100)})(e.target.value),InputProps:{startAdornment:(0,D.jsx)(Pe.A,{sx:{color:"text.secondary",mr:1}}),endAdornment:Z&&(0,D.jsx)(I.A,{size:"small",onClick:()=>{$(""),K([]),ee(-1),oe()},children:(0,D.jsx)(Oe.A,{})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,backgroundColor:p.palette.background.paper}}})}),G.length>0&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.A,{label:"".concat(G.length," \u0646\u062a\u064a\u062c\u0629"),color:"primary",size:"small",variant:"outlined"}),Q>=0&&(0,D.jsx)(f.A,{label:"".concat(Q+1," \u0645\u0646 ").concat(G.length),color:"secondary",size:"small"}),(0,D.jsxs)(o.A,{sx:{display:"flex",gap:.5},children:[(0,D.jsx)(I.A,{size:"small",onClick:()=>ce("prev"),disabled:0===G.length,title:"\u0627\u0644\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0633\u0627\u0628\u0642\u0629",children:(0,D.jsx)(L.A,{})}),(0,D.jsx)(I.A,{size:"small",onClick:()=>ce("next"),disabled:0===G.length,title:"\u0627\u0644\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u062a\u0627\u0644\u064a\u0629",children:(0,D.jsx)(Xe,{})})]})]}),te&&(0,D.jsx)(f.A,{label:"\u062c\u0627\u0631\u064a \u0627\u0644\u0628\u062d\u062b...",color:"info",size:"small",variant:"outlined"})]})]})}),(0,D.jsxs)(o.A,{sx:{width:"100%",position:"relative","& .law-content-text":{width:"100%",maxWidth:"none"}},className:"law-content-container",children:[(0,D.jsx)(et,{content:he(z.content,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u062d\u062a\u0648\u0649"),showModeToggle:!0,defaultMode:"preview",minHeight:600,maxHeight:2e3}),(0,D.jsx)(r.A,{in:se,timeout:300,children:(0,D.jsx)(We,{color:"primary",size:"medium",onClick:()=>{const e=document.querySelector(".law-content-text[data-content-area]");e&&e.scrollTo({top:0,behavior:"smooth"})},className:"scroll-top-button no-print",sx:{position:"absolute",bottom:16,right:16,zIndex:10,background:"linear-gradient(45deg, ".concat(p.palette.primary.main,", ").concat(p.palette.primary.dark,")"),boxShadow:"0 4px 20px ".concat(p.palette.primary.main,"40"),animation:"bounce 2s infinite",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"scale(1.15) translateY(-2px)",boxShadow:"0 8px 25px ".concat(p.palette.primary.main,"60"),background:"linear-gradient(45deg, ".concat(p.palette.primary.dark,", ").concat(p.palette.primary.main,")")},"&:active":{transform:"scale(1.05)"},"@keyframes bounce":{"0%, 20%, 50%, 80%, 100%":{transform:"translateY(0)"},"40%":{transform:"translateY(-4px)"},"60%":{transform:"translateY(-2px)"}},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"50%",background:p.palette.primary.main,opacity:.3,animation:"pulse 2s infinite",zIndex:-1},"@keyframes pulse":{"0%":{transform:"scale(1)",opacity:.3},"50%":{transform:"scale(1.2)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}}},"aria-label":"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0623\u0639\u0644\u0649 \u0627\u0644\u0646\u0635 \u0627\u0644\u0642\u0627\u0646\u0648\u0646\u064a",children:(0,D.jsx)(Ae,{sx:{fontSize:24,color:"white"}})})})]})]}),z.notes&&z.notes.trim()&&(0,D.jsxs)(o.A,{children:[(0,D.jsxs)(c.A,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1,color:p.palette.secondary.main},children:[(0,D.jsx)(Ze,{}),e("laws.fields.notes")]}),(0,D.jsx)(et,{content:z.notes,showModeToggle:!1,defaultMode:"preview",minHeight:100,maxHeight:300})]})]})})})}),(0,D.jsx)(h.A,{sx:{mt:3,borderRadius:2},className:"no-print",children:(0,D.jsxs)(x.A,{sx:{py:2},children:[(0,D.jsx)(c.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:1},children:e("common.additionalInfo")}),(0,D.jsxs)(m.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,D.jsx)(m.Ay,{item:!0,xs:12,sm:4,children:(0,D.jsxs)(c.A,{variant:"body2",color:"text.secondary",children:[e("common.createdAt"),": ",de(z.createdAt,"dd/MM/yyyy HH:mm")]})}),z.updatedAt&&(0,D.jsx)(m.Ay,{item:!0,xs:12,sm:4,children:(0,D.jsxs)(c.A,{variant:"body2",color:"text.secondary",children:[e("common.updatedAt"),": ",de(z.updatedAt,"dd/MM/yyyy HH:mm")]})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,sm:4,children:(0,D.jsxs)(c.A,{variant:"body2",color:"text.secondary",children:[e("common.views"),": ",P," ",e("common.of")]})})]})]})}),(0,D.jsxs)(Fe.A,{anchorEl:B,open:Boolean(B),onClose:me,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,D.jsxs)(A.A,{onClick:ue,children:[(0,D.jsx)(qe.A,{sx:{mr:1}}),e("common.print")]}),(0,D.jsxs)(A.A,{onClick:pe,children:[(0,D.jsx)(Be.A,{sx:{mr:1}}),e("common.download")]}),(0,D.jsxs)(A.A,{onClick:async()=>{if(navigator.share&&z)try{await navigator.share({title:he(z.title,"\u0642\u0627\u0646\u0648\u0646"),text:he(z.content,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u062d\u062a\u0648\u0649").substring(0,200)+"...",url:window.location.href})}catch(e){console.log("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629:",e)}else navigator.clipboard.writeText(window.location.href);me()},children:[(0,D.jsx)(Ye,{sx:{mr:1}}),e("common.share")]}),(0,D.jsx)(Y.A,{}),(0,D.jsxs)(A.A,{onClick:()=>{O(!0)},sx:{color:"error.main"},children:[(0,D.jsx)($e.A,{sx:{mr:1}}),e("common.delete")]})]}),(0,D.jsxs)(v.A,{open:_,onClose:()=>O(!1),maxWidth:"sm",fullWidth:!0,children:[(0,D.jsx)(b.A,{children:e("common.confirm")}),(0,D.jsxs)(y.A,{children:[(0,D.jsx)(c.A,{children:e("messages.confirmDelete")}),(0,D.jsx)(c.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:he(z.title,"\u0639\u0646\u0648\u0627\u0646 \u063a\u064a\u0631 \u0645\u062d\u062f\u062f")})]}),(0,D.jsxs)(w.A,{children:[(0,D.jsx)(d.A,{onClick:()=>O(!1),children:e("common.cancel")}),(0,D.jsx)(d.A,{onClick:async()=>{try{await g.deleteLaw(parseInt(u)),a("/laws")}catch(e){console.error("\u062e\u0637\u0623 \u0641\u064a \u062d\u0630\u0641 \u0627\u0644\u0642\u0627\u0646\u0648\u0646:",e)}},color:"error",variant:"contained",children:e("common.delete")})]})]})]})})};var st=a(18078),nt=a(8079);const lt=function(){const{t:e}=(0,k.Bd)(),t=(0,l.Zp)(),a=(0,l.zy)(),I=(0,i.A)(),{laws:M,categories:N,loading:L,error:T,lawActions:R,generalActions:W}=(0,H.Us)(),[F,V]=(0,n.useState)(""),[E,q]=(0,n.useState)(""),[B,U]=(0,n.useState)(""),[_,O]=(0,n.useState)([]),[P,X]=(0,n.useState)(!1),[Z,Y]=(0,n.useState)(null),[$,G]=(0,n.useState)({open:!1,message:"",severity:"success"});(0,n.useEffect)(()=>{let e=M||[];F&&(e=e.filter(e=>e.title.toLowerCase().includes(F.toLowerCase())||e.content.toLowerCase().includes(F.toLowerCase())||e.officialNumber.toLowerCase().includes(F.toLowerCase()))),E&&(e=e.filter(e=>e.category===E)),B&&(e=e.filter(e=>e.status===B)),O(e)},[M,F,E,B]);const K=()=>{G((0,s.A)((0,s.A)({},$),{},{open:!1}))},J="/laws"!==a.pathname&&"/laws/"!==a.pathname;return console.log("Current path:",a.pathname,"Is sub route:",J),J?(0,D.jsxs)(l.BV,{children:[(0,D.jsx)(l.qh,{path:"add",element:(0,D.jsx)(je,{})}),(0,D.jsx)(l.qh,{path:"edit/:id",element:(0,D.jsx)(je,{})}),(0,D.jsx)(l.qh,{path:"view/:id",element:(0,D.jsx)(at,{})})]}):(0,D.jsx)(r.A,{in:!0,timeout:500,children:(0,D.jsxs)(o.A,{children:[(0,D.jsxs)(o.A,{sx:{mb:4},children:[(0,D.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,D.jsxs)(c.A,{variant:"h4",sx:{fontWeight:700,color:I.palette.primary.main,display:"flex",alignItems:"center",gap:2},children:[(0,D.jsx)(S.A,{fontSize:"large"}),e("laws.title")]}),(0,D.jsx)(d.A,{variant:"contained",startIcon:(0,D.jsx)(C.A,{}),onClick:()=>{console.log("Navigating to add law page"),t("/laws/add")},sx:{borderRadius:3,px:3,py:1.5,fontWeight:600,textTransform:"none",background:"linear-gradient(45deg, ".concat(I.palette.primary.main," 30%, ").concat(I.palette.primary.light," 90%)"),boxShadow:I.shadows[4],"&:hover":{boxShadow:I.shadows[8],transform:"translateY(-2px)"}},children:e("laws.addNew")})]}),(0,D.jsx)(h.A,{sx:{mb:3},children:(0,D.jsx)(x.A,{children:(0,D.jsxs)(m.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,D.jsx)(m.Ay,{item:!0,xs:12,md:6,children:(0,D.jsx)(nt.A,{value:F,onChange:V,placeholder:e("search.placeholder")})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,md:3,children:(0,D.jsxs)(u.A,{fullWidth:!0,size:"small",children:[(0,D.jsx)(p.A,{id:"category-filter-label",children:e("laws.fields.category")}),(0,D.jsxs)(g.A,{labelId:"category-filter-label",value:E,onChange:e=>q(e.target.value),label:e("laws.fields.category"),sx:{borderRadius:"8px",backgroundColor:"dark"===I.palette.mode?"rgba(255, 255, 255, 0.03)":"transparent"},children:[(0,D.jsx)(A.A,{value:"",children:e("common.all")}),null===N||void 0===N?void 0:N.map(e=>(0,D.jsx)(A.A,{value:e.name,children:e.name},e.id))]})]})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,md:2,children:(0,D.jsxs)(u.A,{fullWidth:!0,size:"small",children:[(0,D.jsx)(p.A,{id:"status-filter-label",children:e("laws.fields.status")}),(0,D.jsxs)(g.A,{labelId:"status-filter-label",value:B,onChange:e=>U(e.target.value),label:e("laws.fields.status"),sx:{borderRadius:"8px",backgroundColor:"dark"===I.palette.mode?"rgba(255, 255, 255, 0.03)":"transparent"},children:[(0,D.jsx)(A.A,{value:"",children:e("common.all")}),(0,D.jsx)(A.A,{value:"active",children:e("laws.status.active")}),(0,D.jsx)(A.A,{value:"inactive",children:e("laws.status.inactive")}),(0,D.jsx)(A.A,{value:"draft",children:e("laws.status.draft")}),(0,D.jsx)(A.A,{value:"archived",children:e("laws.status.archived")})]})]})}),(0,D.jsx)(m.Ay,{item:!0,xs:12,md:1,children:(0,D.jsx)(d.A,{variant:"outlined",onClick:()=>{V(""),q(""),U("")},fullWidth:!0,size:"medium",sx:{height:"40px",borderRadius:"8px"},children:e("common.clear")})})]})})}),(0,D.jsxs)(o.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,D.jsxs)(c.A,{variant:"body1",color:"text.secondary",children:[e("common.showing")," ",_.length," ",e("common.of")," ",(null===M||void 0===M?void 0:M.length)||0," ",e("navigation.laws")]}),(F||E||B)&&(0,D.jsxs)(o.A,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[F&&(0,D.jsx)(f.A,{label:"".concat(e("search.title"),": ").concat(F),onDelete:()=>V(""),size:"small",color:"primary"}),E&&(0,D.jsx)(f.A,{label:"".concat(e("laws.fields.category"),": ").concat(E),onDelete:()=>q(""),size:"small",color:"secondary"}),B&&(0,D.jsx)(f.A,{label:"".concat(e("laws.fields.status"),": ").concat(e("laws.status.".concat(B))),onDelete:()=>U(""),size:"small",color:"info"})]})]})]}),T&&(0,D.jsx)(j.A,{severity:"error",sx:{mb:3},children:T}),(0,D.jsx)(st.A,{laws:_,loading:L,onEdit:e=>{t("/laws/edit/".concat(e.id))},onView:e=>{t("/laws/view/".concat(e.id))},onDelete:e=>{Y(e),X(!0)}}),(0,D.jsxs)(v.A,{open:P,onClose:()=>X(!1),maxWidth:"sm",fullWidth:!0,children:[(0,D.jsx)(b.A,{children:e("common.delete")}),(0,D.jsxs)(y.A,{children:[(0,D.jsx)(c.A,{children:e("messages.confirmDelete")}),Z&&(0,D.jsx)(c.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:Z.title})]}),(0,D.jsxs)(w.A,{children:[(0,D.jsx)(d.A,{onClick:()=>X(!1),children:e("common.cancel")}),(0,D.jsx)(d.A,{onClick:async()=>{try{await R.deleteLaw(Z.id),G({open:!0,message:e("messages.lawDeleted"),severity:"success"}),X(!1),Y(null)}catch(T){G({open:!0,message:e("messages.networkError"),severity:"error"})}},color:"error",variant:"contained",children:e("common.delete")})]})]}),(0,D.jsx)(z.A,{open:$.open,autoHideDuration:6e3,onClose:K,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,D.jsx)(j.A,{onClose:K,severity:$.severity,sx:{width:"100%"},children:$.message})})]})})}},49885:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(65471),n=a(44414);const l=(0,s.A)((0,n.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},53256:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(65471),n=a(44414);const l=(0,s.A)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},72934:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(65471),n=a(44414);const l=(0,s.A)((0,n.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")}}]);