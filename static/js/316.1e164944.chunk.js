"use strict";(self.webpackChunkalgerian_law_manager=self.webpackChunkalgerian_law_manager||[]).push([[316],{17687:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(65471),a=s(44414);const i=(0,n.A)((0,a.jsx)("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport")},20760:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(65471),a=s(44414);const i=(0,n.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},23935:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(65471),a=s(44414);const i=(0,n.A)((0,a.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},41300:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(65471),a=s(44414);const i=(0,n.A)((0,a.jsx)("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"}),"Palette")},45810:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(65471),a=s(44414);const i=(0,n.A)((0,a.jsx)("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload")},76316:(e,t,s)=>{s.r(t),s.d(t,{default:()=>$});var n=s(89379),a=s(9950),i=s(14857),r=s(57191),l=s(16491),o=s(82053),c=s(60899),d=s(48089),g=s(50704),h=s(249),p=s(26050),x=s(14195),u=s(83563),m=s(71378),A=s(25979),j=s(16101),v=s(23266),b=s(74745),y=s(80957),f=s(25277),S=s(10226),w=s(33174),R=s(3788),k=s(41413),C=s(96583),I=s(40033),D=s(28170),M=s(29925),W=s(79739),Y=s(98785),z=s(59086),U=s(54853),B=s(41300),P=s(66387),H=s(65471),E=s(44414);const L=(0,H.A)((0,E.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"Backup");var G=s(99530),O=s(23935),T=s(45810),V=s(20760),F=s(17687),_=s(93553),N=s(89299);const J=(0,H.A)((0,E.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");var q=s(28429),Z=s(67818),K=s(387),Q=s(70862);const X=new class{constructor(){this.webAppUrl="https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec"}async submitBugReport(e){try{await fetch(this.webAppUrl,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"submitBugReport",data:e})});return{success:!0,message:"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631 \u0628\u0646\u062c\u0627\u062d"}}catch(t){return console.error("\u062e\u0637\u0623 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631:",t),{success:!1,message:"\u0641\u0634\u0644 \u0641\u064a \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631"}}}updateWebAppUrl(e){this.webAppUrl=e}isValidWebAppUrl(){return this.webAppUrl&&this.webAppUrl.includes("script.google.com")&&!this.webAppUrl.includes("YOUR_SCRIPT_ID")}};const $=function(e){var t,s;let{onLanguageChange:H,onThemeChange:$,currentLanguage:ee,darkMode:te}=e;const{t:se,i18n:ne}=(0,Z.Bd)(),ae=(0,i.A)(),ie=(0,q.zy)(),re=(0,q.Zp)(),{dataActions:le,laws:oe,categories:ce}=(0,K.Us)(),[de,ge]=(0,a.useState)({autoBackup:!0,backupInterval:7,notifications:!0,itemsPerPage:20,dateFormat:"DD/MM/YYYY"}),[he,pe]=(0,a.useState)({open:!1,message:"",severity:"success"}),[xe,ue]=(0,a.useState)({open:!1,type:"",title:"",message:""}),[me,Ae]=(0,a.useState)(!1),[je,ve]=(0,a.useState)(!1),[be,ye]=(0,a.useState)(!1),[fe,Se]=(0,a.useState)(!1),[we,Re]=(0,a.useState)(""),[ke,Ce]=(0,a.useState)({title:"",description:"",steps:"",expectedBehavior:"",actualBehavior:"",browserInfo:"",contactEmail:""});(0,a.useEffect)(()=>{var e;Ie(),De(),null!==(e=ie.state)&&void 0!==e&&e.openBugReport&&(ye(!0),re(ie.pathname,{replace:!0,state:{}}))},[ie,re]);const Ie=async()=>{try{var e,t,s,n,a;const i={autoBackup:null===(e=await Q.A.getSetting("autoBackup"))||void 0===e||e,backupInterval:null!==(t=await Q.A.getSetting("backupInterval"))&&void 0!==t?t:7,notifications:null===(s=await Q.A.getSetting("notifications"))||void 0===s||s,itemsPerPage:null!==(n=await Q.A.getSetting("itemsPerPage"))&&void 0!==n?n:20,dateFormat:null!==(a=await Q.A.getSetting("dateFormat"))&&void 0!==a?a:"DD/MM/YYYY"};ge(i)}catch(i){console.error("Error loading settings:",i)}},De=async()=>{try{const e=await Q.A.getSetting("googleSheetsUrl");e&&(Re(e),X.updateWebAppUrl(e))}catch(e){console.error("Error loading Google Sheets URL:",e)}},Me=async(e,t)=>{try{await Q.A.setSetting(e,t),ge(s=>(0,n.A)((0,n.A)({},s),{},{[e]:t})),pe({open:!0,message:se("messages.settingsSaved"),severity:"success"})}catch(s){pe({open:!0,message:se("messages.networkError"),severity:"error"})}},We=()=>{pe((0,n.A)((0,n.A)({},he),{},{open:!1}))},Ye=(e,t)=>{Ce(s=>(0,n.A)((0,n.A)({},s),{},{[e]:t}))},ze=(()=>{const e=(null===oe||void 0===oe?void 0:oe.length)||0,t=(null===ce||void 0===ce?void 0:ce.length)||0;return{totalLaws:e,totalCategories:t,estimatedSize:(2*e+.5*t).toFixed(1)}})(),Ue=[{code:"ar",name:se("settings.languages.ar"),flag:"\ud83c\udde9\ud83c\uddff"},{code:"fr",name:se("settings.languages.fr"),flag:"\ud83c\uddeb\ud83c\uddf7"},{code:"en",name:se("settings.languages.en"),flag:"\ud83c\uddfa\ud83c\uddf8"}];return(0,E.jsx)(r.A,{in:!0,timeout:500,children:(0,E.jsxs)(l.A,{children:[(0,E.jsxs)(l.A,{sx:{mb:4},children:[(0,E.jsxs)(o.A,{variant:"h4",sx:{fontWeight:700,color:ae.palette.primary.main,display:"flex",alignItems:"center",gap:2,mb:2},children:[(0,E.jsx)(z.A,{fontSize:"large"}),se("settings.title")]}),(0,E.jsx)(o.A,{variant:"h6",color:"text.secondary",children:se("settings.subtitle")})]}),(0,E.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,E.jsx)(d.A,{sx:{mb:3},children:(0,E.jsxs)(g.A,{children:[(0,E.jsxs)(o.A,{variant:"h6",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(z.A,{}),se("settings.general")]}),(0,E.jsxs)(h.A,{children:[(0,E.jsxs)(p.Ay,{children:[(0,E.jsx)(x.A,{children:(0,E.jsx)(U.A,{})}),(0,E.jsx)(u.A,{primary:se("settings.language"),secondary:se("settings.selectLanguage")}),(0,E.jsx)(m.A,{children:(0,E.jsx)(A.A,{size:"small",sx:{minWidth:120},children:(0,E.jsx)(j.A,{value:ee,onChange:e=>(async e=>{await Q.A.setSetting("language",e),H(e),pe({open:!0,message:se("messages.languageChanged"),severity:"success"})})(e.target.value),children:Ue.map(e=>(0,E.jsx)(v.A,{value:e.code,children:(0,E.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)("span",{children:e.flag}),(0,E.jsx)("span",{children:e.name})]})},e.code))})})})]}),(0,E.jsx)(b.A,{}),(0,E.jsxs)(p.Ay,{children:[(0,E.jsx)(x.A,{children:(0,E.jsx)(B.A,{})}),(0,E.jsx)(u.A,{primary:se("settings.appearance"),secondary:se(te?"settings.theme.dark":"settings.theme.light")}),(0,E.jsx)(m.A,{children:(0,E.jsx)(y.A,{checked:te,onChange:e=>(async e=>{await Q.A.setSetting("theme",e?"dark":"light"),$(e),pe({open:!0,message:se("messages.themeChanged"),severity:"success"})})(e.target.checked)})})]}),(0,E.jsx)(b.A,{}),(0,E.jsxs)(p.Ay,{children:[(0,E.jsx)(x.A,{children:(0,E.jsx)(P.A,{})}),(0,E.jsx)(u.A,{primary:se("common.notifications"),secondary:se("settings.enableNotifications")}),(0,E.jsx)(m.A,{children:(0,E.jsx)(y.A,{checked:de.notifications,onChange:e=>Me("notifications",e.target.checked)})})]}),(0,E.jsx)(b.A,{}),(0,E.jsxs)(p.Ay,{children:[(0,E.jsx)(x.A,{children:(0,E.jsx)(L,{})}),(0,E.jsx)(u.A,{primary:se("settings.backup"),secondary:se("settings.enableAutoBackup")}),(0,E.jsx)(m.A,{children:(0,E.jsx)(y.A,{checked:de.autoBackup,onChange:e=>Me("autoBackup",e.target.checked)})})]})]})]})})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,E.jsx)(d.A,{sx:{mb:3},children:(0,E.jsxs)(g.A,{children:[(0,E.jsxs)(o.A,{variant:"h6",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(G.A,{}),se("settings.dataManagement")]}),(0,E.jsxs)(l.A,{sx:{mb:3,p:2,backgroundColor:"dark"===ae.palette.mode?"rgba(255, 255, 255, 0.03)":ae.palette.grey[50],borderRadius:3,border:"1px solid ".concat(ae.palette.divider)},children:[(0,E.jsx)(o.A,{variant:"subtitle2",sx:{mb:2,fontWeight:600},children:se("settings.storageInfo")}),(0,E.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,E.jsx)(c.Ay,{item:!0,xs:6,children:(0,E.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,E.jsx)(o.A,{variant:"h4",color:"primary",sx:{fontWeight:700},children:ze.totalLaws}),(0,E.jsx)(o.A,{variant:"caption",color:"text.secondary",children:se("laws.fields.title")})]})}),(0,E.jsx)(c.Ay,{item:!0,xs:6,children:(0,E.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,E.jsx)(o.A,{variant:"h4",color:"secondary",sx:{fontWeight:700},children:ze.totalCategories}),(0,E.jsx)(o.A,{variant:"caption",color:"text.secondary",children:se("categories.fields.name")})]})})]}),(0,E.jsx)(l.A,{sx:{mt:2,textAlign:"center"},children:(0,E.jsx)(f.A,{label:"".concat(se("settings.estimatedSize"),": ").concat(ze.estimatedSize," KB"),size:"small",color:"info"})})]}),(0,E.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,E.jsx)(S.A,{variant:"contained",startIcon:(0,E.jsx)(O.A,{}),onClick:async()=>{try{const e=await le.exportData(),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download="backup-algerian-laws-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s),pe({open:!0,message:se("messages.dataExported"),severity:"success"})}catch(e){pe({open:!0,message:se("messages.networkError"),severity:"error"})}},fullWidth:!0,children:se("settings.exportData")}),(0,E.jsx)(S.A,{variant:"outlined",startIcon:(0,E.jsx)(T.A,{}),onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{const t=e.target.files[0];if(t)try{const e=await t.text(),s=JSON.parse(e);ue({open:!0,type:"import",title:se("settings.confirmImport"),message:se("settings.importWarning"),data:s})}catch(s){pe({open:!0,message:se("messages.invalidFile"),severity:"error"})}},e.click()},fullWidth:!0,children:se("settings.importData")}),(0,E.jsx)(S.A,{variant:"outlined",color:"error",startIcon:(0,E.jsx)(V.A,{}),onClick:()=>{ue({open:!0,type:"clear",title:se("settings.confirmClear"),message:se("settings.clearWarning")})},fullWidth:!0,children:se("settings.clearAllData")})]})]})})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,children:(0,E.jsx)(d.A,{sx:{mb:3},children:(0,E.jsxs)(g.A,{children:[(0,E.jsxs)(o.A,{variant:"h6",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(F.A,{}),se("settings.bugReport.title")]}),(0,E.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:se("settings.bugReport.description")}),(0,E.jsx)(w.A,{severity:X.isValidWebAppUrl()?"success":"warning",sx:{mb:2},children:(0,E.jsx)(o.A,{variant:"body2",children:X.isValidWebAppUrl()?"\u2705 ".concat(se("settings.bugReport.googleSheetsConnected")):"\u26a0\ufe0f ".concat(se("settings.bugReport.googleSheetsNotConnected"))})}),(0,E.jsxs)(l.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,E.jsx)(S.A,{variant:"outlined",startIcon:(0,E.jsx)(z.A,{}),onClick:()=>Se(!0),sx:{flex:1},children:se("settings.bugReport.setupGoogleSheets")}),(0,E.jsx)(S.A,{variant:"contained",startIcon:(0,E.jsx)(F.A,{}),onClick:()=>ye(!0),sx:{flex:2,background:"linear-gradient(135deg, ".concat(ae.palette.error.main," 0%, ").concat(ae.palette.error.dark," 100%)"),"&:hover":{background:"linear-gradient(135deg, ".concat(ae.palette.error.dark," 0%, ").concat(ae.palette.error.main," 100%)")}},children:se("settings.bugReport.openForm")})]})]})})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,children:(0,E.jsx)(d.A,{children:(0,E.jsxs)(g.A,{children:[(0,E.jsxs)(o.A,{variant:"h6",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(_.A,{}),se("settings.advanced")]}),(0,E.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,E.jsxs)(A.A,{fullWidth:!0,children:[(0,E.jsx)(R.A,{children:se("settings.itemsPerPage")}),(0,E.jsxs)(j.A,{value:de.itemsPerPage,onChange:e=>Me("itemsPerPage",e.target.value),label:se("settings.itemsPerPage"),children:[(0,E.jsx)(v.A,{value:10,children:"10"}),(0,E.jsx)(v.A,{value:20,children:"20"}),(0,E.jsx)(v.A,{value:50,children:"50"}),(0,E.jsx)(v.A,{value:100,children:"100"})]})]})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,E.jsxs)(A.A,{fullWidth:!0,children:[(0,E.jsx)(R.A,{children:se("settings.dateFormat")}),(0,E.jsxs)(j.A,{value:de.dateFormat,onChange:e=>Me("dateFormat",e.target.value),label:se("settings.dateFormat"),children:[(0,E.jsx)(v.A,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),(0,E.jsx)(v.A,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),(0,E.jsx)(v.A,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,md:4,children:(0,E.jsxs)(A.A,{fullWidth:!0,children:[(0,E.jsx)(R.A,{children:se("settings.backupInterval")}),(0,E.jsxs)(j.A,{value:de.backupInterval,onChange:e=>Me("backupInterval",e.target.value),label:se("settings.backupInterval"),disabled:!de.autoBackup,children:[(0,E.jsx)(v.A,{value:1,children:se("settings.daily")}),(0,E.jsx)(v.A,{value:7,children:se("settings.weekly")}),(0,E.jsx)(v.A,{value:30,children:se("settings.monthly")})]})]})})]})]})})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,children:(0,E.jsx)(d.A,{children:(0,E.jsxs)(g.A,{children:[(0,E.jsxs)(o.A,{variant:"h6",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(N.A,{}),se("settings.aboutApp")]}),(0,E.jsxs)(c.Ay,{container:!0,spacing:3,alignItems:"center",children:[(0,E.jsx)(c.Ay,{item:!0,xs:12,md:3,children:(0,E.jsxs)(l.A,{sx:{textAlign:"center"},children:[(0,E.jsx)(k.A,{sx:{width:80,height:80,mx:"auto",mb:2,background:"linear-gradient(135deg, ".concat(ae.palette.primary.main," 0%, ").concat(ae.palette.secondary.main," 100%)")},children:(0,E.jsx)(z.A,{fontSize:"large"})}),(0,E.jsx)(o.A,{variant:"h6",sx:{fontWeight:600},children:se("app.title")}),(0,E.jsx)(o.A,{variant:"body2",color:"text.secondary",children:se("app.version")})]})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,md:9,children:(0,E.jsx)(o.A,{variant:"body1",sx:{mb:2,lineHeight:1.8},children:se("app.description")})})]})]})})})]}),(0,E.jsxs)(C.A,{open:be,onClose:()=>ye(!1),maxWidth:"md",fullWidth:!0,children:[(0,E.jsxs)(I.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(F.A,{}),se("settings.bugReport.title")]}),(0,E.jsxs)(D.A,{children:[(0,E.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:se("settings.bugReport.formDescription")}),(0,E.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(c.Ay,{item:!0,xs:12,children:(0,E.jsx)(M.A,{fullWidth:!0,label:"".concat(se("settings.bugReport.fieldTitle")," *"),value:ke.title,onChange:e=>Ye("title",e.target.value),placeholder:se("settings.bugReport.fieldTitlePlaceholder"),required:!0})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,children:(0,E.jsx)(M.A,{fullWidth:!0,multiline:!0,rows:4,label:"".concat(se("settings.bugReport.fieldDesc")," *"),value:ke.description,onChange:e=>Ye("description",e.target.value),placeholder:se("settings.bugReport.fieldDescPlaceholder"),required:!0})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,E.jsx)(M.A,{fullWidth:!0,multiline:!0,rows:3,label:se("settings.bugReport.fieldSteps"),value:ke.steps,onChange:e=>Ye("steps",e.target.value),placeholder:se("settings.bugReport.fieldStepsPlaceholder")})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,md:6,children:(0,E.jsx)(M.A,{fullWidth:!0,multiline:!0,rows:3,label:se("settings.bugReport.fieldExpected"),value:ke.expectedBehavior,onChange:e=>Ye("expectedBehavior",e.target.value),placeholder:se("settings.bugReport.fieldExpectedPlaceholder")})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,children:(0,E.jsx)(M.A,{fullWidth:!0,multiline:!0,rows:2,label:se("settings.bugReport.fieldActual"),value:ke.actualBehavior,onChange:e=>Ye("actualBehavior",e.target.value),placeholder:se("settings.bugReport.fieldActualPlaceholder")})}),(0,E.jsx)(c.Ay,{item:!0,xs:12,children:(0,E.jsx)(M.A,{fullWidth:!0,label:se("settings.bugReport.fieldContactEmail"),type:"email",value:ke.contactEmail,onChange:e=>Ye("contactEmail",e.target.value),placeholder:"your.email@example.com"})})]}),(0,E.jsx)(w.A,{severity:"info",sx:{mt:3},children:(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsxs)("strong",{children:[se("settings.bugReport.notice"),":"]})," ",se("settings.bugReport.noticeText")]})})]}),(0,E.jsxs)(W.A,{children:[(0,E.jsx)(S.A,{onClick:()=>ye(!1),children:se("common.cancel")}),(0,E.jsx)(S.A,{onClick:async()=>{try{if(!X.isValidWebAppUrl())return void pe({open:!0,message:se("settings.bugReport.notConfigured"),severity:"warning"});const e={userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine,screenResolution:"".concat(screen.width,"x").concat(screen.height),viewport:"".concat(window.innerWidth,"x").concat(window.innerHeight),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timestamp:(new Date).toISOString()},t=(0,n.A)((0,n.A)({},ke),{},{browserInfo:JSON.stringify(e,null,2),appVersion:"1.0.0",submittedAt:(new Date).toISOString(),reportId:"BUG-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))});console.log("Sending bug report to Google Sheets:",t);const s=await X.submitBugReport(t);if(!s.success)throw new Error(s.message);pe({open:!0,message:se("settings.bugReport.successMessage"),severity:"success"}),Ce({title:"",description:"",steps:"",expectedBehavior:"",actualBehavior:"",browserInfo:"",contactEmail:""}),ye(!1)}catch(e){console.error("Error submitting report:",e),pe({open:!0,message:se("settings.bugReport.errorMessage"),severity:"error"})}},variant:"contained",startIcon:(0,E.jsx)(J,{}),disabled:!ke.title||!ke.description,children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0634\u0643\u0644\u0629"===se("settings.bugReport.fieldTitle")?"\u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u062a\u0642\u0631\u064a\u0631":"Send Report"})]})]}),(0,E.jsxs)(C.A,{open:fe,onClose:()=>Se(!1),maxWidth:"md",fullWidth:!0,children:[(0,E.jsxs)(I.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,E.jsx)(z.A,{}),se("settings.bugReport.setupGoogleSheets")]}),(0,E.jsxs)(D.A,{children:[(0,E.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{mb:3},children:se("settings.bugReport.setupGoogleSheetsSteps.description")}),(0,E.jsxs)(w.A,{severity:"info",sx:{mb:3},children:[(0,E.jsx)(o.A,{variant:"body2",sx:{mb:2},children:(0,E.jsx)("strong",{children:se("settings.bugReport.setupGoogleSheetsSteps.stepsTitle")})}),(0,E.jsxs)(o.A,{variant:"body2",component:"div",children:["1. ",se("settings.bugReport.setupGoogleSheetsSteps.s1"),(0,E.jsx)("br",{}),"2. ",se("settings.bugReport.setupGoogleSheetsSteps.s2"),(0,E.jsx)("br",{}),"3. ",se("settings.bugReport.setupGoogleSheetsSteps.s3"),(0,E.jsx)("br",{}),"4. ",se("settings.bugReport.setupGoogleSheetsSteps.s4"),(0,E.jsx)("br",{}),"5. ",se("settings.bugReport.setupGoogleSheetsSteps.s5"),(0,E.jsx)("br",{}),"6. ",se("settings.bugReport.setupGoogleSheetsSteps.s6"),(0,E.jsx)("br",{}),"7. ",se("settings.bugReport.setupGoogleSheetsSteps.s7")]})]}),(0,E.jsx)(M.A,{fullWidth:!0,label:se("settings.bugReport.googleSheetsUrlLabel"),value:we,onChange:e=>Re(e.target.value),placeholder:se("settings.bugReport.googleSheetsUrlPlaceholder"),multiline:!0,rows:3,sx:{mb:2}}),(0,E.jsx)(w.A,{severity:"warning",children:(0,E.jsxs)(o.A,{variant:"body2",children:[(0,E.jsxs)("strong",{children:[se("settings.bugReport.googleSheetsImportant"),":"]})," ",se("settings.bugReport.googleSheetsImportantText")]})})]}),(0,E.jsxs)(W.A,{children:[(0,E.jsx)(S.A,{onClick:()=>Se(!1),children:se("common.cancel")}),(0,E.jsx)(S.A,{onClick:async()=>{try{await Q.A.setSetting("googleSheetsUrl",we),X.updateWebAppUrl(we),pe({open:!0,message:se("settings.bugReport.configSuccess"),severity:"success"}),Se(!1)}catch(e){pe({open:!0,message:se("settings.bugReport.configError"),severity:"error"})}},variant:"contained",disabled:!we.trim(),children:se("common.save")})]})]}),(0,E.jsxs)(C.A,{open:xe.open,onClose:()=>ue({open:!1,type:"",title:"",message:""}),maxWidth:"sm",fullWidth:!0,children:[(0,E.jsx)(I.A,{children:xe.title}),(0,E.jsxs)(D.A,{children:[(0,E.jsx)(w.A,{severity:"warning",sx:{mb:2},children:xe.message}),"import"===xe.type&&xe.data&&(0,E.jsxs)(l.A,{sx:{mt:2},children:[(0,E.jsxs)(o.A,{variant:"body2",sx:{mb:1},children:[se("settings.importPreview"),":"]}),(0,E.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:["\u2022 ",(null===(t=xe.data.laws)||void 0===t?void 0:t.length)||0," ",se("laws.title")]}),(0,E.jsxs)(o.A,{variant:"body2",color:"text.secondary",children:["\u2022 ",(null===(s=xe.data.categories)||void 0===s?void 0:s.length)||0," ",se("categories.title")]})]})]}),(0,E.jsxs)(W.A,{children:[(0,E.jsx)(S.A,{onClick:()=>ue({open:!1,type:"",title:"",message:""}),children:se("common.cancel")}),(0,E.jsx)(S.A,{onClick:async()=>{try{"import"===xe.type?(await le.importData(xe.data),pe({open:!0,message:se("messages.dataImported"),severity:"success"})):"clear"===xe.type&&(await le.clearAllData(),pe({open:!0,message:se("messages.dataCleared"),severity:"success"}))}catch(e){pe({open:!0,message:se("messages.networkError"),severity:"error"})}finally{ue({open:!1,type:"",title:"",message:""})}},color:"warning",variant:"contained",children:se("common.confirm")})]})]}),(0,E.jsx)(Y.A,{open:he.open,autoHideDuration:6e3,onClose:We,anchorOrigin:{vertical:"bottom",horizontal:"ar"===ne.language?"left":"right"},children:(0,E.jsx)(w.A,{onClose:We,severity:he.severity,sx:{width:"100%"},children:he.message})})]})})}},93553:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(65471),a=s(44414);const i=(0,n.A)((0,a.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security")},99530:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(65471),a=s(44414);const i=(0,n.A)((0,a.jsx)("path",{d:"M2 20h20v-4H2zm2-3h2v2H4zM2 4v4h20V4zm4 3H4V5h2zm-4 7h20v-4H2zm2-3h2v2H4z"}),"Storage")}}]);