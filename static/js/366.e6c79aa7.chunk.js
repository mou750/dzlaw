"use strict";(self.webpackChunkalgerian_law_manager=self.webpackChunkalgerian_law_manager||[]).push([[366],{94366:(e,t,n)=>{n.r(t),n.d(t,{default:()=>le});var a=n(9950),s=n(14857),r=n(57191),i=n(16491),o=n(82053),l=n(25333),c=n(60899),d=n(48089),x=n(50704),h=n(10226),m=n(249),p=n(26050),g=n(14195),u=n(83563),j=n(25277),y=n(82917),A=n(17972),f=n(71471),b=n(79196),v=n(76299),w=n(38517),k=n(29240),C=n(68179),S=n(67818),D=n(28429),W=n(387),I=n(46589),z=n(93125),R=n(39919),L=n(81095),B=n(67360),M=n(54203),T=n(72528),U=n(16335),E=n(25102),F=n(80294),N=n(93245),O=n(60158),Y=n(44813),Z=n(85706),_=n(2847),K=n(56473),P=n(44414);const H=function(e){var t;let{statistics:n}=e;const{t:r}=(0,S.Bd)(),l=(0,s.A)(),c=(0,I.A)(l.breakpoints.down("sm")),[h,m]=(0,a.useState)("category"),p=null!==n&&void 0!==n&&n.lawsByCategory?Object.entries(n.lawsByCategory).map(e=>{let[t,n]=e;return{name:t,value:n,count:n}}):[],g=null!==n&&void 0!==n&&n.lawsByMonth?Object.entries(n.lawsByMonth).sort((e,t)=>{let[n]=e,[a]=t;return n.localeCompare(a)}).map(e=>{let[t,n]=e;return{month:j(t),count:n,value:n}}):[],u=null!==n&&void 0!==n&&n.lawsByYear?Object.entries(n.lawsByYear).sort((e,t)=>{let[n]=e,[a]=t;return parseInt(n)-parseInt(a)}).map(e=>{let[t,n]=e;return{year:t,count:n,value:n}}):[];function j(e){const{i18n:t}=(0,S.Bd)(),[n,a]=e.split("-"),s=new Date(parseInt(n),parseInt(a)-1),r="ar"===t.language?"ar-DZ":"fr"===t.language?"fr-FR":"en-US";return s.toLocaleDateString(r,{year:"numeric",month:"short"})}const y=[l.palette.primary.main,l.palette.secondary.main,l.palette.success.main,l.palette.warning.main,l.palette.error.main,l.palette.info.main,"#9c27b0","#ff5722"],A=e=>{let{active:t,payload:n,label:a}=e;return t&&n&&n.length?(0,P.jsxs)(i.A,{sx:{backgroundColor:l.palette.background.paper,border:"1px solid ".concat(l.palette.divider),borderRadius:2,p:1.5,boxShadow:l.shadows[8],backdropFilter:"blur(10px)"},children:[(0,P.jsx)(o.A,{variant:"body2",sx:{fontWeight:600,mb:1},children:a}),n.map((e,t)=>(0,P.jsx)(o.A,{variant:"body2",sx:{color:e.color},children:"".concat(r("common.count"),": ").concat(e.value)},t))]}):null};return(0,P.jsx)(d.A,{sx:{height:"100%",borderRadius:3,boxShadow:l.shadows[4]},children:(0,P.jsxs)(x.A,{sx:{p:{xs:2,sm:3}},children:[(0,P.jsxs)(i.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",md:"center"},gap:2,mb:3},children:[(0,P.jsx)(o.A,{variant:"h6",sx:{fontWeight:700,color:l.palette.text.primary},children:(()=>{switch(h){case"category":return r("dashboard.statistics.byCategory");case"monthly":return r("dashboard.statistics.byMonth");case"yearly":return r("dashboard.statistics.byYear");default:return r("dashboard.statistics.byTitle")}})()}),(0,P.jsxs)(z.A,{value:h,exclusive:!0,onChange:(e,t)=>{null!==t&&m(t)},size:"small",sx:{width:{xs:"100%",md:"auto"},"& .MuiToggleButton-root":{flex:{xs:1,md:"none"},px:2,py:.75,fontSize:{xs:"0.75rem",sm:"0.875rem"},fontWeight:600}},children:[(0,P.jsx)(R.A,{value:"category",children:r("categories.fields.name")}),(0,P.jsx)(R.A,{value:"monthly",children:r("common.monthly")}),(0,P.jsx)(R.A,{value:"yearly",children:r("common.yearly")})]})]}),n?(0,P.jsx)(i.A,{sx:{width:"100%",height:{xs:300,sm:350,md:400}},children:(()=>{switch(h){case"category":return(0,P.jsx)(L.u,{width:"100%",height:c?300:350,children:(0,P.jsxs)(B.r,{children:[(0,P.jsx)(M.F,{data:p,cx:"50%",cy:"50%",labelLine:!c,label:!c&&(e=>{let{name:t,percent:n}=e;return"".concat(t," (").concat((100*n).toFixed(0),"%)")}),outerRadius:c?80:120,fill:"#8884d8",dataKey:"value",paddingAngle:5,children:p.map((e,t)=>(0,P.jsx)(T.f,{fill:y[t%y.length],cornerRadius:4},"cell-".concat(t)))}),(0,P.jsx)(U.m,{content:(0,P.jsx)(A,{})}),(0,P.jsx)(E.s,{verticalAlign:c?"bottom":"middle",align:c?"center":"right",layout:c?"horizontal":"vertical",wrapperStyle:c?{paddingTop:20}:{paddingLeft:20}})]})});case"monthly":return(0,P.jsx)(L.u,{width:"100%",height:350,children:(0,P.jsxs)(F.E,{data:g,children:[(0,P.jsx)(N.d,{strokeDasharray:"3 3",stroke:l.palette.divider}),(0,P.jsx)(O.W,{dataKey:"month",tick:{fontSize:12},stroke:l.palette.text.secondary}),(0,P.jsx)(Y.h,{tick:{fontSize:12},stroke:l.palette.text.secondary}),(0,P.jsx)(U.m,{content:(0,P.jsx)(A,{})}),(0,P.jsx)(Z.y,{dataKey:"count",fill:l.palette.primary.main,radius:[4,4,0,0]})]})});case"yearly":return(0,P.jsx)(L.u,{width:"100%",height:350,children:(0,P.jsxs)(_.b,{data:u,children:[(0,P.jsx)(N.d,{strokeDasharray:"3 3",stroke:l.palette.divider}),(0,P.jsx)(O.W,{dataKey:"year",tick:{fontSize:12},stroke:l.palette.text.secondary}),(0,P.jsx)(Y.h,{tick:{fontSize:12},stroke:l.palette.text.secondary}),(0,P.jsx)(U.m,{content:(0,P.jsx)(A,{})}),(0,P.jsx)(K.N,{type:"monotone",dataKey:"count",stroke:l.palette.secondary.main,strokeWidth:3,dot:{fill:l.palette.secondary.main,strokeWidth:2,r:6},activeDot:{r:8}})]})});default:return null}})()}):(0,P.jsx)(i.A,{sx:{height:350,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,P.jsx)(o.A,{color:"text.secondary",children:r("common.noData")})}),n&&(0,P.jsxs)(i.A,{sx:{mt:2,pt:2,borderTop:"1px solid ".concat(l.palette.divider),display:"flex",flexWrap:"wrap",justifyContent:"space-around",gap:2,textAlign:"center"},children:[(0,P.jsxs)(i.A,{sx:{flex:"1 1 80px"},children:[(0,P.jsx)(o.A,{variant:"h6",color:"primary",sx:{fontWeight:800},children:n.totalLaws}),(0,P.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:r("dashboard.totalLaws")})]}),(0,P.jsxs)(i.A,{sx:{flex:"1 1 80px"},children:[(0,P.jsx)(o.A,{variant:"h6",color:"secondary",sx:{fontWeight:800},children:n.totalCategories}),(0,P.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:r("dashboard.totalCategories")})]}),(0,P.jsxs)(i.A,{sx:{flex:"1 1 80px"},children:[(0,P.jsx)(o.A,{variant:"h6",color:"success.main",sx:{fontWeight:800},children:(null===(t=n.recentLaws)||void 0===t?void 0:t.length)||0}),(0,P.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:r("dashboard.recentLaws")})]})]})]})})};var J=n(74745),q=n(49715),G=n(29137),Q=n(42768);const V=function(){const{t:e,i18n:t}=(0,S.Bd)(),n=(0,D.Zp)(),a=(0,s.A)(),{dataActions:r,refreshData:l}=(0,W.Us)(),c=[{title:e("dashboard.actions.addLaw"),icon:(0,P.jsx)(A.A,{}),color:a.palette.primary.main,onClick:()=>n("/laws/add")},{title:e("dashboard.actions.addCategory"),icon:(0,P.jsx)(f.A,{}),color:a.palette.secondary.main,onClick:()=>n("/categories/add")},{title:e("dashboard.actions.search"),icon:(0,P.jsx)(q.A,{}),color:a.palette.info.main,onClick:()=>n("/search")},{title:e("dashboard.actions.stats"),icon:(0,P.jsx)(w.A,{}),color:a.palette.success.main,onClick:()=>n("/statistics")}],j=[{title:e("dashboard.actions.export"),icon:(0,P.jsx)(G.A,{}),onClick:async function(){try{const e=await r.exportData(),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="\u0627\u0644\u0642\u0648\u0627\u0646\u064a\u0646-\u0627\u0644\u062c\u0632\u0627\u0626\u0631\u064a\u0629-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)}catch(e){console.error("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u0635\u062f\u064a\u0631:",e)}}},{title:e("dashboard.actions.import"),icon:(0,P.jsx)(Q.A,{}),onClick:function(){const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async t=>{const n=t.target.files[0];if(n)try{const t=await n.text(),a=JSON.parse(t);await r.importData(a),alert(e("messages.dataImported"))}catch(a){console.error("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0627\u0633\u062a\u064a\u0631\u0627\u062f:",a),alert(e("messages.networkError"))}},t.click()}},{title:e("dashboard.actions.refresh"),icon:(0,P.jsx)(k.A,{}),onClick:async function(){try{await l()}catch(e){console.error("\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u062a\u062d\u062f\u064a\u062b:",e)}}}];return(0,P.jsx)(d.A,{sx:{height:"100%"},children:(0,P.jsxs)(x.A,{children:[(0,P.jsx)(o.A,{variant:"h6",sx:{fontWeight:600,mb:3},children:e("common.quickActions")}),(0,P.jsxs)(i.A,{sx:{mb:3},children:[(0,P.jsx)(o.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:e("common.mainActions")}),(0,P.jsx)(i.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:c.map((e,n)=>(0,P.jsx)(h.A,{variant:"contained",startIcon:e.icon,onClick:e.onClick,sx:{backgroundColor:e.color,color:"white",justifyContent:"ar"===t.language?"flex-end":"flex-start",textTransform:"none",fontWeight:500,py:1.5,"&:hover":{backgroundColor:e.color,opacity:.9,transform:"translateY(-1px)",boxShadow:a.shadows[4]},transition:"all 0.2s ease"},children:e.title},n))})]}),(0,P.jsx)(J.A,{sx:{my:2}}),(0,P.jsxs)(i.A,{children:[(0,P.jsx)(o.A,{variant:"subtitle2",color:"text.secondary",sx:{mb:2},children:e("common.otherActions")}),(0,P.jsx)(m.A,{dense:!0,children:j.map((e,t)=>(0,P.jsxs)(p.Ay,{button:!0,onClick:e.onClick,sx:{borderRadius:2,mb:.5,"&:hover":{backgroundColor:a.palette.action.hover}},children:[(0,P.jsx)(g.A,{sx:{minWidth:40},children:e.icon}),(0,P.jsx)(u.A,{primary:e.title,primaryTypographyProps:{fontSize:"0.9rem",fontWeight:500}})]},t))})]}),(0,P.jsxs)(i.A,{sx:{mt:3,p:2,backgroundColor:"dark"===a.palette.mode?"rgba(255, 255, 255, 0.03)":a.palette.grey[50],borderRadius:2,border:"1px solid ".concat(a.palette.divider)},children:[(0,P.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:e("common.tips")}),(0,P.jsxs)(o.A,{variant:"body2",sx:{fontSize:"0.8rem",lineHeight:1.4},children:["\u2022 ",e("tips.useSearch"),(0,P.jsx)("br",{}),"\u2022 ",e("tips.organizeCategories"),(0,P.jsx)("br",{}),"\u2022 ",e("tips.regularBackup")]})]}),(0,P.jsxs)(i.A,{sx:{mt:2},children:[(0,P.jsx)(o.A,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:e("common.shortcuts")}),(0,P.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,P.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsx)(o.A,{variant:"caption",children:"Ctrl+N"}),(0,P.jsx)(o.A,{variant:"caption",color:"text.secondary",children:e("dashboard.actions.addLaw")})]}),(0,P.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsx)(o.A,{variant:"caption",children:"Ctrl+F"}),(0,P.jsx)(o.A,{variant:"caption",color:"text.secondary",children:e("dashboard.actions.searchByTitle")})]}),(0,P.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsx)(o.A,{variant:"caption",children:"Ctrl+E"}),(0,P.jsx)(o.A,{variant:"caption",color:"text.secondary",children:e("dashboard.actions.export")})]})]})]})]})})};var X=n(41413),$=n(79893),ee=n(49238),te=n(40379),ne=n(91348),ae=n(45532);const se=function(){var e,t;const{t:n,i18n:a}=(0,S.Bd)(),{user:s}=(0,ae.As)();return s?(0,P.jsx)(d.A,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",mb:3,overflow:"hidden",position:"relative"},children:(0,P.jsx)(x.A,{sx:{p:{xs:2,sm:3}},children:(0,P.jsxs)(i.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"center",sm:"center"},gap:{xs:2,sm:3},textAlign:{xs:"center",sm:"left"}},children:[(0,P.jsx)(X.A,{sx:{width:{xs:70,sm:80},height:{xs:70,sm:80},bgcolor:"rgba(255, 255, 255, 0.2)",fontSize:{xs:"1.8rem",sm:"2rem"},fontWeight:700,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:(null===(e=s.fullName)||void 0===e?void 0:e.charAt(0))||"U"}),(0,P.jsxs)(i.A,{sx:{flexGrow:1,width:"100%"},children:[(0,P.jsxs)(o.A,{variant:"h4",sx:{fontWeight:700,mb:.5,fontSize:{xs:"1.5rem",sm:"2rem"}},children:[(()=>{const e=(new Date).getHours();return n(e<12?"common.morning":e<17?"common.afternoon":"common.evening")})(),"\u060c ",s.fullName]}),(0,P.jsx)(o.A,{variant:"body1",sx:{opacity:.9,mb:2,fontSize:{xs:"0.9rem",sm:"1.1rem"}},children:n("common.welcomeMessage")}),(0,P.jsxs)(i.A,{sx:{display:"flex",gap:1.5,alignItems:"center",justifyContent:{xs:"center",sm:"flex-start"},flexWrap:"wrap"},children:[(0,P.jsx)(j.A,{icon:(e=>{switch(e){case"SUPER_ADMIN":return(0,P.jsx)($.A,{});case"ADMIN":return(0,P.jsx)(ee.A,{});case"EDITOR":return(0,P.jsx)(te.A,{});default:return(0,P.jsx)(ne.A,{})}})(s.role),label:(null===(t=ae.gg[s.role])||void 0===t?void 0:t.name)||s.role,color:(e=>{switch(e){case"SUPER_ADMIN":return"error";case"ADMIN":return"warning";case"EDITOR":return"info";default:return"default"}})(s.role),size:"medium",sx:{fontWeight:600,px:1,"& .MuiChip-icon":{color:"inherit"}}}),s.department&&(0,P.jsx)(j.A,{label:s.department,variant:"outlined",size:"medium",sx:{color:"white",borderColor:"rgba(255, 255, 255, 0.5)",fontWeight:600,px:1}})]})]}),(0,P.jsxs)(i.A,{sx:{textAlign:{xs:"center",sm:"right"},backgroundColor:"rgba(255, 255, 255, 0.1)",p:2,borderRadius:2,minWidth:{sm:200}},children:[(0,P.jsx)(o.A,{variant:"caption",sx:{opacity:.8,display:"block",mb:.5},children:n("common.lastLogin")}),(0,P.jsx)(o.A,{variant:"body2",sx:{fontWeight:600,fontSize:"0.85rem"},children:s.lastLogin?new Date(s.lastLogin).toLocaleDateString("ar"===a.language?"ar-DZ":"fr"===a.language?"fr-FR":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):n("common.firstTime")})]})]})})}):null};function re(){const{t:e}=(0,S.Bd)(),t=(0,D.Zp)(),{statistics:n}=(0,W.Us)(),a=(0,s.A)();return(0,P.jsx)(d.A,{sx:{height:"100%"},children:(0,P.jsxs)(x.A,{children:[(0,P.jsxs)(i.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:1,mb:2},children:[(0,P.jsx)(o.A,{variant:"h6",sx:{fontWeight:700},children:e("dashboard.recentLaws")}),(0,P.jsx)(h.A,{variant:"outlined",size:"small",onClick:()=>t("/laws"),endIcon:(0,P.jsx)(C.A,{}),sx:{borderRadius:2},children:e("common.viewAll")})]}),(0,P.jsx)(m.A,{children:((null===n||void 0===n?void 0:n.recentLaws)||[]).slice(0,5).map((e,t)=>(0,P.jsxs)(p.Ay,{sx:{borderRadius:2,mb:1,backgroundColor:"dark"===a.palette.mode?"rgba(255, 255, 255, 0.03)":a.palette.grey[50],"&:hover":{backgroundColor:"dark"===a.palette.mode?"rgba(255, 255, 255, 0.08)":a.palette.grey[100]}},children:[(0,P.jsx)(g.A,{children:(0,P.jsx)(A.A,{color:"primary"})}),(0,P.jsx)(u.A,{primary:e.title,secondary:new Date(e.createdAt).toLocaleDateString(),primaryTypographyProps:{sx:{fontWeight:500}}})]},e.id))||(0,P.jsx)(o.A,{color:"text.secondary",sx:{textAlign:"center",py:3},children:e("common.noData")})})]})})}function ie(){const{t:e}=(0,S.Bd)(),t=(0,D.Zp)(),{statistics:n,categories:a}=(0,W.Us)(),r=(0,s.A)(),l=e=>{const t=null===a||void 0===a?void 0:a.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||e};return(0,P.jsx)(d.A,{sx:{height:"100%"},children:(0,P.jsxs)(x.A,{children:[(0,P.jsxs)(i.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:1,mb:2},children:[(0,P.jsx)(o.A,{variant:"h6",sx:{fontWeight:700},children:e("dashboard.popularCategories")}),(0,P.jsx)(h.A,{variant:"outlined",size:"small",onClick:()=>t("/categories"),endIcon:(0,P.jsx)(C.A,{}),sx:{borderRadius:2},children:e("common.viewAll")})]}),(0,P.jsx)(i.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:((null===n||void 0===n?void 0:n.popularCategories)||[]).map((e,t)=>(0,P.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderRadius:2,backgroundColor:"dark"===r.palette.mode?"rgba(255, 255, 255, 0.02)":r.palette.grey[50],border:"1px solid ".concat(r.palette.divider)},children:[(0,P.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,P.jsx)(f.A,{color:"secondary"}),(0,P.jsx)(o.A,{sx:{fontWeight:500},children:l(e.category)})]}),(0,P.jsx)(j.A,{label:e.count,color:"primary",size:"small",sx:{fontWeight:600}})]},e.category))||(0,P.jsx)(o.A,{color:"text.secondary",sx:{textAlign:"center",py:3},children:e("common.noData")})})]})})}function oe(){return(0,P.jsxs)(i.A,{children:[(0,P.jsx)(y.A,{variant:"text",width:300,height:60,sx:{mb:2}}),(0,P.jsx)(y.A,{variant:"text",width:500,height:30,sx:{mb:4}}),(0,P.jsx)(c.Ay,{container:!0,spacing:3,sx:{mb:4},children:[1,2,3,4].map(e=>(0,P.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,P.jsx)(y.A,{variant:"rectangular",height:120,sx:{borderRadius:2}})},e))}),(0,P.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,P.jsx)(c.Ay,{item:!0,xs:12,lg:8,children:(0,P.jsx)(y.A,{variant:"rectangular",height:400,sx:{borderRadius:2}})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,lg:4,children:(0,P.jsx)(y.A,{variant:"rectangular",height:400,sx:{borderRadius:2}})})]})]})}const le=function(){const{t:e}=(0,S.Bd)(),t=(0,D.Zp)(),n=(0,s.A)(),{statistics:h,laws:m,categories:p,loading:g,statisticsActions:u}=(0,W.Us)(),[j,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{h||C()},[]);const C=async()=>{y(!0);try{await u.refreshStatistics()}catch(e){console.error("\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a:",e)}finally{y(!1)}},I=[{title:e("dashboard.totalLaws"),value:(null===h||void 0===h?void 0:h.totalLaws)||0,icon:(0,P.jsx)(A.A,{}),color:n.palette.primary.main,gradient:"linear-gradient(135deg, ".concat(n.palette.primary.main," 0%, ").concat(n.palette.primary.dark," 100%)"),onClick:()=>t("/laws")},{title:e("dashboard.totalCategories"),value:(null===h||void 0===h?void 0:h.totalCategories)||0,icon:(0,P.jsx)(f.A,{}),color:n.palette.secondary.main,gradient:"linear-gradient(135deg, ".concat(n.palette.secondary.main," 0%, ").concat(n.palette.secondary.dark," 100%)"),onClick:()=>t("/categories")},{title:e("dashboard.lawsThisMonth"),value:function(){if(!m)return 0;const e=(new Date).getMonth(),t=(new Date).getFullYear();return m.filter(n=>{const a=new Date(n.createdAt);return a.getMonth()===e&&a.getFullYear()===t}).length}(),icon:(0,P.jsx)(b.A,{}),color:n.palette.success.main,gradient:"linear-gradient(135deg, ".concat(n.palette.success.main," 0%, ").concat(n.palette.success.dark," 100%)"),onClick:()=>t("/statistics")},{title:e("dashboard.averagePerMonth"),value:function(){if(!m||0===m.length)return 0;const e=new Set;return m.forEach(t=>{const n=new Date(t.createdAt);e.add("".concat(n.getFullYear(),"-").concat(n.getMonth()))}),Math.round(m.length/Math.max(e.size,1))}(),icon:(0,P.jsx)(v.A,{}),color:n.palette.warning.main,gradient:"linear-gradient(135deg, ".concat(n.palette.warning.main," 0%, ").concat(n.palette.warning.dark," 100%)"),onClick:()=>t("/statistics")}];return g&&!h?(0,P.jsx)(oe,{}):(0,P.jsx)(r.A,{in:!0,timeout:500,children:(0,P.jsxs)(i.A,{children:[(0,P.jsx)(se,{}),(0,P.jsxs)(i.A,{sx:{mb:4},children:[(0,P.jsxs)(i.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:2,mb:2},children:[(0,P.jsxs)(o.A,{variant:"h4",sx:{fontWeight:700,color:n.palette.primary.main,display:"flex",alignItems:"center",gap:2,fontSize:{xs:"1.75rem",sm:"2.125rem"}},children:[(0,P.jsx)(w.A,{fontSize:"large",color:"primary"}),e("dashboard.title")]}),(0,P.jsx)(l.A,{onClick:C,disabled:j,sx:{backgroundColor:n.palette.primary.main,color:"white","&:hover":{backgroundColor:n.palette.primary.dark},alignSelf:{xs:"flex-end",sm:"center"}},children:(0,P.jsx)(k.A,{sx:{animation:j?"spin 1s linear infinite":"none"}})})]}),(0,P.jsx)(o.A,{variant:"h6",color:"text.secondary",sx:{mb:3,fontSize:{xs:"1rem",sm:"1.25rem"},fontWeight:400},children:e("dashboard.welcome")})]}),(0,P.jsx)(c.Ay,{container:!0,spacing:3,sx:{mb:4},children:I.map((e,t)=>(0,P.jsx)(c.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,P.jsx)(r.A,{in:!0,timeout:500+100*t,children:(0,P.jsx)(d.A,{sx:{background:e.gradient,color:"white",cursor:"pointer",transition:"all 0.3s ease",height:"100%","&:hover":{transform:"translateY(-4px)",boxShadow:n.shadows[12]}},onClick:e.onClick,children:(0,P.jsx)(x.A,{sx:{p:{xs:2,sm:3}},children:(0,P.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,P.jsxs)(i.A,{children:[(0,P.jsx)(o.A,{variant:"h3",sx:{fontWeight:800,mb:.5,fontSize:{xs:"1.75rem",sm:"2.5rem"}},children:e.value.toLocaleString()}),(0,P.jsx)(o.A,{variant:"body2",sx:{opacity:.9,fontWeight:600,fontSize:{xs:"0.8rem",sm:"1rem"},textTransform:"uppercase",letterSpacing:.5},children:e.title})]}),(0,P.jsx)(i.A,{sx:{backgroundColor:"rgba(255,255,255,0.25)",borderRadius:"12px",p:{xs:1.5,sm:2},display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:a.cloneElement(e.icon,{sx:{fontSize:{xs:24,sm:32}}})})]})})})})},t))}),(0,P.jsxs)(c.Ay,{container:!0,spacing:3,children:[(0,P.jsx)(c.Ay,{item:!0,xs:12,lg:8,children:(0,P.jsx)(H,{statistics:h})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,lg:4,children:(0,P.jsx)(V,{})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,lg:6,children:(0,P.jsx)(re,{})}),(0,P.jsx)(c.Ay,{item:!0,xs:12,lg:6,children:(0,P.jsx)(ie,{})})]}),(0,P.jsx)("style",{jsx:!0,children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "})]})})}}}]);