"use strict";(self.webpackChunkalgerian_law_manager=self.webpackChunkalgerian_law_manager||[]).push([[24],{2046:(e,s,n)=>{n.d(s,{A:()=>y});var r=n(98587),t=n(58168),a=n(9950),o=n(72004),i=n(88465),l=n(61676),c=n(82053),d=n(15866),m=n(39766),u=n(59254),h=n(1763),x=n(423);function A(e){return(0,x.Ay)("MuiInputAdornment",e)}const g=(0,h.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var p,v=n(18463),j=n(44414);const f=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,u.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:n}=e;return[s.root,s["position".concat((0,l.A)(n.position))],!0===n.disablePointerEvents&&s.disablePointerEvents,s[n.variant]]}})(e=>{let{theme:s,ownerState:n}=e;return(0,t.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(s.vars||s).palette.action.active},"filled"===n.variant&&{["&.".concat(g.positionStart,"&:not(.").concat(g.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})}),y=a.forwardRef(function(e,s){const n=(0,v.b)({props:e,name:"MuiInputAdornment"}),{children:u,className:h,component:x="div",disablePointerEvents:g=!1,disableTypography:y=!1,position:M,variant:w}=n,S=(0,r.A)(n,f),E=(0,m.A)()||{};let C=w;w&&E.variant,E&&!C&&(C=E.variant);const W=(0,t.A)({},n,{hiddenLabel:E.hiddenLabel,size:E.size,disablePointerEvents:g,position:M,variant:C}),z=(e=>{const{classes:s,disablePointerEvents:n,hiddenLabel:r,position:t,size:a,variant:o}=e,c={root:["root",n&&"disablePointerEvents",t&&"position".concat((0,l.A)(t)),o,r&&"hiddenLabel",a&&"size".concat((0,l.A)(a))]};return(0,i.A)(c,A,s)})(W);return(0,j.jsx)(d.A.Provider,{value:null,children:(0,j.jsx)(b,(0,t.A)({as:x,ownerState:W,className:(0,o.A)(z.root,h),ref:s},S,{children:"string"!==typeof u||y?(0,j.jsxs)(a.Fragment,{children:["start"===M?p||(p=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,u]}):(0,j.jsx)(c.A,{color:"text.secondary",children:u})}))})})},12015:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)((0,t.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email")},19808:(e,s,n)=>{n.d(s,{A:()=>y});var r=n(98587),t=n(58168),a=n(9950),o=n(72004),i=n(423),l=n(88465),c=n(35501),d=n(62161),m=n(70146),u=n(12860),h=n(44414);const x=["className","component","disableGutters","fixed","maxWidth","classes"],A=(0,u.A)(),g=(0,m.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:n}=e;return[s.root,s["maxWidth".concat((0,c.A)(String(n.maxWidth)))],n.fixed&&s.fixed,n.disableGutters&&s.disableGutters]}}),p=e=>(0,d.A)({props:e,name:"MuiContainer",defaultTheme:A});var v=n(61676),j=n(59254),f=n(18463);const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:s=g,useThemeProps:n=p,componentName:d="MuiContainer"}=e,m=s(e=>{let{theme:s,ownerState:n}=e;return(0,t.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}})},e=>{let{theme:s,ownerState:n}=e;return n.fixed&&Object.keys(s.breakpoints.values).reduce((e,n)=>{const r=n,t=s.breakpoints.values[r];return 0!==t&&(e[s.breakpoints.up(r)]={maxWidth:"".concat(t).concat(s.breakpoints.unit)}),e},{})},e=>{let{theme:s,ownerState:n}=e;return(0,t.A)({},"xs"===n.maxWidth&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[s.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(s.breakpoints.values[n.maxWidth]).concat(s.breakpoints.unit)}})}),u=a.forwardRef(function(e,s){const a=n(e),{className:u,component:A="div",disableGutters:g=!1,fixed:p=!1,maxWidth:v="lg"}=a,j=(0,r.A)(a,x),f=(0,t.A)({},a,{component:A,disableGutters:g,fixed:p,maxWidth:v}),b=((e,s)=>{const{classes:n,fixed:r,disableGutters:t,maxWidth:a}=e,o={root:["root",a&&"maxWidth".concat((0,c.A)(String(a))),r&&"fixed",t&&"disableGutters"]};return(0,l.A)(o,e=>(0,i.Ay)(s,e),n)})(f,d);return(0,h.jsx)(m,(0,t.A)({as:A,ownerState:f,className:(0,o.A)(b.root,u),ref:s},j))});return u}({createStyledComponent:(0,j.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:n}=e;return[s.root,s["maxWidth".concat((0,v.A)(String(n.maxWidth)))],n.fixed&&s.fixed,n.disableGutters&&s.disableGutters]}}),useThemeProps:e=>(0,f.b)({props:e,name:"MuiContainer"})}),y=b},20760:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},40379:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},49238:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)((0,t.jsx)("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount")},50294:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)((0,t.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},53256:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},64987:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)((0,t.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone")},76281:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)((0,t.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},79893:(e,s,n)=>{n.d(s,{A:()=>a});var r=n(65471),t=n(44414);const a=(0,r.A)([(0,t.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,t.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings")},90024:(e,s,n)=>{n.r(s),n.d(s,{default:()=>K});var r=n(89379),t=n(80045),a=n(9950),o=n(19808),i=n(33174),l=n(16491),c=n(82053),d=n(10226),m=n(48089),u=n(50704),h=n(29925),x=n(2046),A=n(60899),g=n(57191),p=n(41413),v=n(25277),j=n(25333),f=n(74745),b=n(2235),y=n(17239),M=n(23266),w=n(96583),S=n(40033),E=n(28170),C=n(25979),W=n(3788),z=n(16101),k=n(16497),L=n(80957),I=n(79739),N=n(79893),P=n(49238),R=n(40379),D=n(91348),V=n(53256),H=n(49715),U=n(76281),G=n(12015),T=n(64987),_=n(65471),B=n(44414);const O=(0,_.A)((0,B.jsx)("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business");var q=n(50294),F=n(20760),Y=n(67818),J=n(45532);n(70862);const Z=["password"];const K=function(){const{t:e}=(0,Y.Bd)(),{user:s,hasPermission:n}=(0,J.As)(),[_,K]=(0,a.useState)([]),[Q,X]=(0,a.useState)(!0),[$,ee]=(0,a.useState)(""),[se,ne]=(0,a.useState)(null),[re,te]=(0,a.useState)(!1),[ae,oe]=(0,a.useState)(!1),[ie,le]=(0,a.useState)(null),[ce,de]=(0,a.useState)(""),[me,ue]=(0,a.useState)(""),[he,xe]=(0,a.useState)({username:"",password:"",fullName:"",email:"",phone:"",department:"",role:"VIEWER",permissions:[],isActive:!0}),[Ae,ge]=(0,a.useState)(!1);(0,a.useEffect)(()=>{pe()},[]);const pe=async()=>{try{X(!0),console.log("\ud83d\udd04 Loading users...");const s="AlgerianLawDB",n=indexedDB.open(s);n.onsuccess=async s=>{const n=s.target.result;try{const e=n.transaction(["users"],"readonly").objectStore("users"),s=(await new Promise((s,n)=>{const r=e.getAll();r.onsuccess=()=>s(r.result),r.onerror=()=>n(r.error)})).map(e=>{const{password:s}=e;return(0,t.A)(e,Z)});console.log("\u2705 Users loaded:",s.length),K(s)}catch(ce){console.error("\u274c Error reading users:",ce),de(e("userManagement.messages.createError"))}finally{X(!1)}},n.onerror=()=>{console.error("\u274c Error opening database"),de(e("messages.networkError")),X(!1)}}catch(ce){console.error("\u274c Error loading users:",ce),de(e("userManagement.messages.updateError")),X(!1)}},ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(ge(!0),ne(e),xe({username:e.username,password:"",fullName:e.fullName,email:e.email,phone:e.phone||"",department:e.department||"",role:e.role,permissions:e.permissions||[],isActive:e.isActive})):(ge(!1),ne(null),xe({username:"",password:"",fullName:"",email:"",phone:"",department:"",role:"VIEWER",permissions:J.gg.VIEWER.permissions,isActive:!0})),te(!0),le(null)},je=()=>{te(!1),ne(null),de(""),ue("")},fe=e=>{const{name:s,value:n,checked:t}=e.target;if("isActive"===s)xe(e=>(0,r.A)((0,r.A)({},e),{},{[s]:t}));else if("role"===s){var a;const e=(null===(a=J.gg[n])||void 0===a?void 0:a.permissions)||[];xe(t=>(0,r.A)((0,r.A)({},t),{},{[s]:n,permissions:e}))}else xe(e=>(0,r.A)((0,r.A)({},e),{},{[s]:n}))},be=e=>{switch(e){case"SUPER_ADMIN":return(0,B.jsx)(N.A,{});case"ADMIN":return(0,B.jsx)(P.A,{});case"EDITOR":return(0,B.jsx)(R.A,{});default:return(0,B.jsx)(D.A,{})}},ye=e=>{switch(e){case"SUPER_ADMIN":return"error";case"ADMIN":return"warning";case"EDITOR":return"info";default:return"default"}},Me=_.filter(e=>e.username.toLowerCase().includes($.toLowerCase())||e.fullName.toLowerCase().includes($.toLowerCase())||e.email.toLowerCase().includes($.toLowerCase()));return n(J.Jj.USERS_MANAGE)?(0,B.jsx)(o.A,{maxWidth:"lg",children:(0,B.jsxs)(l.A,{sx:{py:4},children:[(0,B.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[(0,B.jsxs)(l.A,{children:[(0,B.jsx)(c.A,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:1},children:e("userManagement.title")}),(0,B.jsxs)(c.A,{variant:"subtitle1",color:"text.secondary",children:[e("userManagement.subtitle")," (",_.length,")"]})]}),(0,B.jsxs)(l.A,{sx:{display:"flex",gap:2},children:[(0,B.jsx)(d.A,{variant:"outlined",onClick:pe,disabled:Q,sx:{borderRadius:3},children:e(Q?"userManagement.refreshing":"userManagement.refreshList")}),(0,B.jsx)(d.A,{variant:"contained",startIcon:(0,B.jsx)(V.A,{}),onClick:()=>ve(),sx:{borderRadius:3,px:3,py:1.5,background:"linear-gradient(45deg, #1976d2 30%, #42a5f5 90%)",boxShadow:"0 3px 5px 2px rgba(25, 118, 210, .3)"},children:e("userManagement.addUser")})]})]}),(0,B.jsx)(m.A,{sx:{mb:4},children:(0,B.jsx)(u.A,{children:(0,B.jsx)(h.A,{fullWidth:!0,placeholder:e("userManagement.searchPlaceholder"),value:$,onChange:e=>ee(e.target.value),InputProps:{startAdornment:(0,B.jsx)(x.A,{position:"start",children:(0,B.jsx)(H.A,{})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:3}}})})}),me&&(0,B.jsx)(i.A,{severity:"success",sx:{mb:3},onClose:()=>ue(""),children:me}),ce&&(0,B.jsx)(i.A,{severity:"error",sx:{mb:3},onClose:()=>de(""),children:ce}),(0,B.jsx)(A.Ay,{container:!0,spacing:3,children:Me.map(s=>{var n;return(0,B.jsx)(A.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,B.jsx)(g.A,{in:!0,timeout:300,children:(0,B.jsx)(m.A,{sx:{height:"100%",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:"0 8px 25px rgba(0,0,0,0.15)"}},children:(0,B.jsxs)(u.A,{sx:{p:3},children:[(0,B.jsxs)(l.A,{sx:{display:"flex",alignItems:"flex-start",mb:2},children:[(0,B.jsx)(p.A,{sx:{width:60,height:60,mr:2,bgcolor:"primary.main",fontSize:"1.5rem"},children:s.fullName.charAt(0)}),(0,B.jsxs)(l.A,{sx:{flexGrow:1},children:[(0,B.jsx)(c.A,{variant:"h6",sx:{fontWeight:600,mb:.5},children:s.fullName}),(0,B.jsxs)(c.A,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["@",s.username]}),(0,B.jsx)(v.A,{icon:be(s.role),label:e(null===(n=J.gg[s.role])||void 0===n?void 0:n.name)||s.role,color:ye(s.role),size:"small",sx:{fontWeight:500}})]}),(0,B.jsx)(j.A,{onClick:e=>{le(e.currentTarget),ne(s)},size:"small",children:(0,B.jsx)(U.A,{})})]}),(0,B.jsx)(f.A,{sx:{my:2}}),(0,B.jsxs)(l.A,{sx:{space:1},children:[(0,B.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,B.jsx)(G.A,{sx:{fontSize:16,mr:1,color:"text.secondary"}}),(0,B.jsx)(c.A,{variant:"body2",color:"text.secondary",children:s.email})]}),s.phone&&(0,B.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,B.jsx)(T.A,{sx:{fontSize:16,mr:1,color:"text.secondary"}}),(0,B.jsx)(c.A,{variant:"body2",color:"text.secondary",children:s.phone})]}),s.department&&(0,B.jsxs)(l.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,B.jsx)(O,{sx:{fontSize:16,mr:1,color:"text.secondary"}}),(0,B.jsx)(c.A,{variant:"body2",color:"text.secondary",children:s.department})]})]}),(0,B.jsxs)(l.A,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,B.jsx)(v.A,{label:s.isActive?e("userManagement.active"):e("userManagement.inactive"),color:s.isActive?"success":"default",size:"small",variant:"outlined"}),(0,B.jsx)(c.A,{variant:"caption",color:"text.secondary",children:s.lastLogin?"".concat(e("userManagement.lastLogin"),": ").concat(new Date(s.lastLogin).toLocaleDateString("ar-DZ")):e("userManagement.neverLoggedIn")})]})]})})})},s.id)})}),0===Me.length&&!Q&&(0,B.jsxs)(b.A,{sx:{p:4,textAlign:"center",mt:4},children:[(0,B.jsx)(q.A,{sx:{fontSize:64,color:"text.secondary",mb:2}}),(0,B.jsx)(c.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:e("userManagement.noUsers")}),(0,B.jsx)(c.A,{variant:"body2",color:"text.secondary",children:e($?"userManagement.noUsersFound":"userManagement.noUsersYet")})]}),(0,B.jsxs)(y.A,{anchorEl:ie,open:Boolean(ie),onClose:()=>le(null),children:[(0,B.jsxs)(M.A,{onClick:()=>ve(se),children:[(0,B.jsx)(R.A,{sx:{mr:1}}),e("common.edit")]}),(0,B.jsxs)(M.A,{onClick:()=>{oe(!0),le(null)},disabled:(null===se||void 0===se?void 0:se.id)===(null===s||void 0===s?void 0:s.id),children:[(0,B.jsx)(F.A,{sx:{mr:1}}),e("common.delete")]})]}),(0,B.jsxs)(w.A,{open:re,onClose:je,maxWidth:"md",fullWidth:!0,children:[(0,B.jsx)(S.A,{children:e(Ae?"userManagement.editUser":"userManagement.addUser")}),(0,B.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),he.username&&he.fullName&&he.email)if(Ae||he.password)try{console.log("\ud83d\udcbe Saving user...",Ae?"Update":"Create new");const s="AlgerianLawDB",n=indexedDB.open(s);n.onsuccess=async s=>{const n=s.target.result;try{const s=n.transaction(["users"],"readwrite").objectStore("users");if(Ae){const n=await new Promise((e,n)=>{const r=s.get(se.id);r.onsuccess=()=>e(r.result),r.onerror=()=>n(r.error)});if(!n)return void de(e("userManagement.messages.userNotFound"));const t=(0,r.A)((0,r.A)((0,r.A)({},n),he),{},{id:se.id,updatedAt:(new Date).toISOString()});he.password&&(t.password=btoa(he.password+"salt_key_2024")),await new Promise((e,n)=>{const r=s.put(t);r.onsuccess=()=>e(r.result),r.onerror=()=>n(r.error)}),console.log("\u2705 User updated successfully"),ue(e("userManagement.messages.updateSuccess"))}else{const n=(0,r.A)((0,r.A)({},he),{},{password:btoa(he.password+"salt_key_2024"),createdAt:(new Date).toISOString(),lastLogin:null});await new Promise((e,r)=>{const t=s.add(n);t.onsuccess=()=>e(t.result),t.onerror=()=>r(t.error)}),console.log("\u2705 User created successfully"),ue(e("userManagement.messages.createSuccess"))}setTimeout(()=>{pe(),je()},500)}catch(ce){console.error("\u274c Error saving user:",ce),de(e(Ae?"userManagement.messages.updateError":"userManagement.messages.createError"))}},n.onerror=()=>{console.error("\u274c Error opening database"),de(e("messages.networkError"))}}catch(ce){console.error("\u274c Error saving user:",ce),de(e(Ae?"userManagement.messages.updateError":"userManagement.messages.createError"))}else de(e("userManagement.messages.passwordRequired"));else de(e("userManagement.messages.fillRequired"))},children:[(0,B.jsx)(E.A,{children:(0,B.jsxs)(A.Ay,{container:!0,spacing:3,children:[(0,B.jsx)(A.Ay,{item:!0,xs:12,sm:6,children:(0,B.jsx)(h.A,{fullWidth:!0,label:e("userManagement.fields.username"),name:"username",value:he.username,onChange:fe,required:!0,disabled:Ae})}),(0,B.jsx)(A.Ay,{item:!0,xs:12,sm:6,children:(0,B.jsx)(h.A,{fullWidth:!0,label:e("userManagement.fields.password"),name:"password",type:"password",value:he.password,onChange:fe,required:!Ae,placeholder:Ae?e("userManagement.fields.passwordPlaceholder"):""})}),(0,B.jsx)(A.Ay,{item:!0,xs:12,children:(0,B.jsx)(h.A,{fullWidth:!0,label:e("userManagement.fields.fullName"),name:"fullName",value:he.fullName,onChange:fe,required:!0})}),(0,B.jsx)(A.Ay,{item:!0,xs:12,sm:6,children:(0,B.jsx)(h.A,{fullWidth:!0,label:e("userManagement.fields.email"),name:"email",type:"email",value:he.email,onChange:fe,required:!0})}),(0,B.jsx)(A.Ay,{item:!0,xs:12,sm:6,children:(0,B.jsx)(h.A,{fullWidth:!0,label:e("userManagement.fields.phone"),name:"phone",value:he.phone,onChange:fe})}),(0,B.jsx)(A.Ay,{item:!0,xs:12,sm:6,children:(0,B.jsx)(h.A,{fullWidth:!0,label:e("userManagement.fields.department"),name:"department",value:he.department,onChange:fe})}),(0,B.jsx)(A.Ay,{item:!0,xs:12,sm:6,children:(0,B.jsxs)(C.A,{fullWidth:!0,children:[(0,B.jsx)(W.A,{children:e("userManagement.fields.role")}),(0,B.jsx)(z.A,{name:"role",value:he.role,onChange:fe,label:e("userManagement.fields.role"),children:Object.entries(J.gg).map(s=>{let[n,r]=s;return(0,B.jsx)(M.A,{value:n,children:e(r.name)},n)})})]})}),(0,B.jsx)(A.Ay,{item:!0,xs:12,children:(0,B.jsx)(k.A,{control:(0,B.jsx)(L.A,{checked:he.isActive,onChange:fe,name:"isActive"}),label:e("userManagement.fields.isActive")})})]})}),(0,B.jsxs)(I.A,{children:[(0,B.jsx)(d.A,{onClick:je,children:e("common.cancel")}),(0,B.jsx)(d.A,{type:"submit",variant:"contained",children:e(Ae?"messages.update":"messages.create")})]})]})]}),(0,B.jsxs)(w.A,{open:ae,onClose:()=>oe(!1),children:[(0,B.jsx)(S.A,{children:e("common.confirm")}),(0,B.jsx)(E.A,{children:(0,B.jsx)(c.A,{children:e("userManagement.messages.confirmDelete",{name:null===se||void 0===se?void 0:se.fullName})})}),(0,B.jsxs)(I.A,{children:[(0,B.jsx)(d.A,{onClick:()=>oe(!1),children:e("common.cancel")}),(0,B.jsx)(d.A,{onClick:async()=>{if(se)try{console.log("\ud83d\uddd1\ufe0f Deleting user:",se.username);const s="AlgerianLawDB",n=indexedDB.open(s);n.onsuccess=async s=>{const n=s.target.result;try{const s=n.transaction(["users"],"readwrite").objectStore("users");await new Promise((e,n)=>{const r=s.delete(se.id);r.onsuccess=()=>e(r.result),r.onerror=()=>n(r.error)}),console.log("\u2705 User deleted successfully"),ue(e("userManagement.messages.deleteSuccess")),setTimeout(()=>{pe(),oe(!1),ne(null)},500)}catch(ce){console.error("\u274c Error deleting user:",ce),de(e("userManagement.messages.deleteError"))}},n.onerror=()=>{console.error("\u274c Error opening database"),de(e("messages.networkError"))}}catch(ce){console.error("\u274c Error deleting user:",ce),de(e("userManagement.messages.deleteError"))}},color:"error",variant:"contained",children:e("common.delete")})]})]})]})}):(0,B.jsx)(o.A,{maxWidth:"lg",children:(0,B.jsx)(i.A,{severity:"error",sx:{mt:4},children:e("userManagement.noAccess")})})}}}]);